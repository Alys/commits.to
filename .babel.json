{
  "{\"filename\":\"/app/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "express-handlebars",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "expressHandlebars"
              }
            ]
          },
          {
            "source": "chrono-node",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chrono"
              }
            ]
          },
          {
            "source": "moment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "moment"
              }
            ]
          },
          {
            "source": "node-sass-middleware",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sassMiddleware"
              }
            ]
          },
          {
            "source": "./models/promise.js",
            "imported": [
              "Promise",
              "sequelize"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Promise",
                "local": "Promise"
              },
              {
                "kind": "named",
                "imported": "sequelize",
                "local": "sequelize"
              }
            ]
          },
          {
            "source": "./data/seed.js",
            "imported": [
              "users",
              "promises"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "users",
                "local": "users"
              },
              {
                "kind": "named",
                "imported": "promises",
                "local": "promises"
              }
            ]
          },
          {
            "source": "./lib/latepenalty.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "computeCredit"
              }
            ]
          },
          {
            "source": "./lib/parse.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "parsePromise"
              }
            ]
          },
          {
            "source": "./lib/middleware.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "handlePromiseRequest"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/app.js",
      "filenameRelative": "/app/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _expressHandlebars = require('express-handlebars');\n\nvar _expressHandlebars2 = _interopRequireDefault(_expressHandlebars);\n\nvar _chronoNode = require('chrono-node');\n\nvar _chronoNode2 = _interopRequireDefault(_chronoNode);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _nodeSassMiddleware = require('node-sass-middleware');\n\nvar _nodeSassMiddleware2 = _interopRequireDefault(_nodeSassMiddleware);\n\nvar _promise = require('./models/promise.js');\n\nvar _seed = require('./data/seed.js');\n\nvar _latepenalty = require('./lib/latepenalty.js');\n\nvar _latepenalty2 = _interopRequireDefault(_latepenalty);\n\nvar _parse = require('./lib/parse.js');\n\nvar _parse2 = _interopRequireDefault(_parse);\n\nvar _middleware = require('./lib/middleware.js');\n\nvar _middleware2 = _interopRequireDefault(_middleware);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// --------------------------------- 80chars ---------------------------------->\n\nvar app = (0, _express2.default)(); // Sugar.js parses some things better\n\n\napp.use((0, _nodeSassMiddleware2.default)({\n  src: __dirname + '/public',\n  dest: '/tmp',\n  // debug: true,\n  force: true\n  //outputStyle: 'compressed',\n}));\n\napp.use(_express2.default.static('public'));\napp.use(_express2.default.static('tmp'));\n\napp.engine('handlebars', (0, _expressHandlebars2.default)({ defaultLayout: 'main' }));\napp.set('view engine', 'handlebars');\n\napp.listen(process.env.PORT);\n\n// LATEST SPEC:\n// The \"/by/...\" part is an optional power-user thing, not part of the MVP.\n// Instead, the first time you go to alice.promises.to/foo it gives you the \n// option to choose a deadline, defaulting to now+7days (or to what the \"/by/\" \n// part parsed to, if that's easy, but just make it a suggestion for the user, \n// just like now+7days is if they don't specify a \"/by/\"). \n// For every subsequent GET of alice.promises.to/foo it shows the deadline, with\n// no way to change it.\n\n// IDEAS FOR LATER:\n// Simpler date parsing:\n//   Maybe the date has to be YYYY-MM-DD_HH:MM\n//   Example: bob.promises.to/foo_the_bar/by/2017-09-13_12:00\n// Magic spaces:\n//   Whichever non-alphanumeric character is most common in the urtext, that's \n//   what's assumed to be a space and is replaced with spaces before parsing.\n// Less magical version:\n//   A non-alphanumeric character must follow \"alice.promises.to/\" and that\n//   character is taken as the ersatz space. Eg:\n//   alice.promises.to/_start_her_promises_with_underscores\n// Flexibility on the '/by/' part:\n//   Requiring the string '/by/' to appear in the promise URL means no ambiguity\n//   about where to start parsing the deadline. But the Chrono parsing library \n//   actually does great taking the whole string like \"foo the bar by noon \n//   tomorrow\" and figuring out the time. We could also just take the last\n//   occurrence of \"by\" and parse everything after it as the deadline.\n\n// Routes\n\napp.get(['/', '/promises.to/?', '/commits.to/?'], function (req, resp) {\n  var domain = req.originalUrl.substr(1).replace('/', ''); // FIXME use domain parsing lib?\n  console.log('home', req.originalUrl, domain);\n  resp.render('home', { domain: domain });\n});\n\napp.get('/sign-up', function (req, resp) {\n  resp.render('signup');\n});\n\n// we want any actionable route to be handled by the middleware and for now\n// we probably don't want to let anyone just create promises with domains that don't exist\n// FIXME: we should have a single configurable list of domains\napp.get('/:user.([promises|commits]+\\.to+)/:promise?/:modifier?/:date?', _middleware2.default);\n\n// Actions\n\n// FIXME refactor/secure this\napp.get('/promises/remove/:id', function (req, resp) {\n  console.log('remove', req.params);\n  _promise.Promise.destroy({\n    where: {\n      id: req.params.id\n    }\n  }).then(function (deletedRows) {\n    console.log('promise removed', deletedRows);\n    resp.redirect('/');\n  });\n});\n\n// Endpoints\n\napp.get('/promise/:udp/:urtx', function (req, resp) {\n  var urtx = req.originalUrl.substr(9);\n  _promise.Promise.findOne({ where: { urtx: urtx } }).then(function (promise) {\n    console.log('single promise', urtx, promise);\n    // resp.write(promise)\n    resp.json(promise);\n  });\n});\n\napp.get('/promises', function (req, resp) {\n  var dbPromises = {};\n  _promise.Promise.findAll({\n    order: _promise.sequelize.literal('tini DESC')\n  }).then(function (promises) {\n    // console.log('all promises', promises)\n    // create nested array of promises by user:\n    promises.forEach(function (promise) {\n      dbPromises[promise.user] = dbPromises[promise.user] || [];\n      dbPromises[promise.user].push(promise);\n    });\n    resp.json(dbPromises);\n  });\n});\n\napp.get('/promises/:user', function (req, resp) {\n  var dbPromises = [];\n  _promise.Promise.findAll({\n    where: {\n      user: req.params.user\n    }\n  }).then(function (promises) {\n    // console.log('user promises', promises);\n    promises.forEach(function (promise) {\n      dbPromises.push(promise);\n    });\n    resp.json(dbPromises);\n  });\n});\n\n// Utils\n\napp.get('/reset', function (req, resp) {\n  setup();\n  resp.redirect('/');\n});\n\n// removes all entries from the promises table\napp.get('/clear', function (req, resp) {\n  _promise.Promise.destroy({ where: {} });\n  resp.redirect('/');\n});\n\n// utility to populate table with hardcoded promises above\nfunction setup() {\n  _promise.Promise.sync({ force: true }) // 'force: true' just drops the table if it exists\n  .then(function () {\n    // and creates a new one!\n    // Add the default promises to the database\n    for (var i = 0; i < _seed.promises.length; i++) {\n      _promise.Promise.create((0, _parse2.default)(_seed.promises[i]));\n    }\n  });\n}\n\n/*\nLittle picture: Why does this error handling code not run when I surf to \na bad URL like iwill.glitch.me/foo%bar\n\nBigger picture: I'm making an app that needs to process any URL the user may \nthrow at it. I need the server to get the exact URL the way the user sees it in \nthe browser. That's going to be especially tricky for things like '#' characters\nbut right now I'm just trying to figure out the case of arbitrary '%' characters\nthat may not correspond to proper %-encodings.\n\nI'm thinking like a catchall error-handling route that no matter what weird\nencoding or whatever error is thrown I can still have the code here do something\nwith the URL as the user typed it.\n\nFor now we're just dropping all this and having the app give the user an error\nif there are any weird characters in the URL.\n\napp.use(function(req, resp, next) {\n  var err = null\n  try {\n    console.log(\"TRYING\", req.path, req.url)\n    decodeURIComponent(req.path)\n  } catch(e) {\n    err = e\n  }\n  if (err) {\n    console.log(\"CAUGHT ERR:\", err, req.url)\n    return resp.redirect('/')\n  }\n  next();\n\n  //console.log(\"DEBUG USE1:\", req.originalUrl)\n  //resp.redirect('/')\n})\n*/\n\n/* \nlet test\n//test = chrono.parseDate(\"foo the bar by sep 15th noon\")\ntest = chrono.parseDate(\"Call_the_dentist by 2017-10-15 12pm\")\nconsole.log(`DEBUG: ${test} (unixtime = ${test.getTime()/1000}`)\nconsole.log(\"DEBUG: \", JSON.stringify(parsePromise(promises[2])))\n*/\n\n// --------------------------------- 80chars ---------------------------------->\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJzcmMiLCJfX2Rpcm5hbWUiLCJkZXN0IiwiZm9yY2UiLCJzdGF0aWMiLCJlbmdpbmUiLCJkZWZhdWx0TGF5b3V0Iiwic2V0IiwibGlzdGVuIiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJnZXQiLCJyZXEiLCJyZXNwIiwiZG9tYWluIiwib3JpZ2luYWxVcmwiLCJzdWJzdHIiLCJyZXBsYWNlIiwiY29uc29sZSIsImxvZyIsInJlbmRlciIsInBhcmFtcyIsImRlc3Ryb3kiLCJ3aGVyZSIsImlkIiwidGhlbiIsImRlbGV0ZWRSb3dzIiwicmVkaXJlY3QiLCJ1cnR4IiwiZmluZE9uZSIsInByb21pc2UiLCJqc29uIiwiZGJQcm9taXNlcyIsImZpbmRBbGwiLCJvcmRlciIsImxpdGVyYWwiLCJwcm9taXNlcyIsImZvckVhY2giLCJ1c2VyIiwicHVzaCIsInNldHVwIiwic3luYyIsImkiLCJsZW5ndGgiLCJjcmVhdGUiXSwibWFwcGluZ3MiOiI7O0FBRUE7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOztBQUVBOztBQUVBOzs7O0FBQ0E7Ozs7QUFFQTs7Ozs7O0FBaEJBOztBQWtCQSxJQUFJQSxNQUFNLHdCQUFWLEMsQ0Fia0M7OztBQWVsQ0EsSUFBSUMsR0FBSixDQUFRLGtDQUFlO0FBQ3JCQyxPQUFLQyxZQUFZLFNBREk7QUFFckJDLFFBQU0sTUFGZTtBQUdyQjtBQUNBQyxTQUFPO0FBQ1A7QUFMcUIsQ0FBZixDQUFSOztBQVFBTCxJQUFJQyxHQUFKLENBQVEsa0JBQVFLLE1BQVIsQ0FBZSxRQUFmLENBQVI7QUFDQU4sSUFBSUMsR0FBSixDQUFRLGtCQUFRSyxNQUFSLENBQWUsS0FBZixDQUFSOztBQUVBTixJQUFJTyxNQUFKLENBQVcsWUFBWCxFQUF5QixpQ0FBa0IsRUFBQ0MsZUFBZSxNQUFoQixFQUFsQixDQUF6QjtBQUNBUixJQUFJUyxHQUFKLENBQVEsYUFBUixFQUF1QixZ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LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIDgwY2hhcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0hhbmRsZWJhcnMgZnJvbSAnZXhwcmVzcy1oYW5kbGViYXJzJztcblxuaW1wb3J0IGNocm9ubyBmcm9tICdjaHJvbm8tbm9kZSc7IC8vIFN1Z2FyLmpzIHBhcnNlcyBzb21lIHRoaW5ncyBiZXR0ZXJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBzYXNzTWlkZGxld2FyZSBmcm9tICdub2RlLXNhc3MtbWlkZGxld2FyZSc7XG5cbmltcG9ydCB7IFByb21pc2UsIHNlcXVlbGl6ZSB9IGZyb20gJy4vbW9kZWxzL3Byb21pc2UuanMnO1xuXG5pbXBvcnQgeyB1c2VycywgcHJvbWlzZXMgfSBmcm9tICcuL2RhdGEvc2VlZC5qcyc7XG5cbmltcG9ydCBjb21wdXRlQ3JlZGl0IGZyb20gJy4vbGliL2xhdGVwZW5hbHR5LmpzJztcbmltcG9ydCBwYXJzZVByb21pc2UgZnJvbSAnLi9saWIvcGFyc2UuanMnO1xuXG5pbXBvcnQgaGFuZGxlUHJvbWlzZVJlcXVlc3QgZnJvbSAnLi9saWIvbWlkZGxld2FyZS5qcyc7XG5cbnZhciBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2Uoc2Fzc01pZGRsZXdhcmUoe1xuICBzcmM6IF9fZGlybmFtZSArICcvcHVibGljJyxcbiAgZGVzdDogJy90bXAnLFxuICAvLyBkZWJ1ZzogdHJ1ZSxcbiAgZm9yY2U6IHRydWUsXG4gIC8vb3V0cHV0U3R5bGU6ICdjb21wcmVzc2VkJyxcbn0pKTtcblxuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYygndG1wJykpO1xuXG5hcHAuZW5naW5lKCdoYW5kbGViYXJzJywgZXhwcmVzc0hhbmRsZWJhcnMoe2RlZmF1bHRMYXlvdXQ6ICdtYWluJ30pKTtcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2hhbmRsZWJhcnMnKTtcblxuYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUKTtcblxuXG4vLyBMQVRFU1QgU1BFQzpcbi8vIFRoZSBcIi9ieS8uLi5cIiBwYXJ0IGlzIGFuIG9wdGlvbmFsIHBvd2VyLXVzZXIgdGhpbmcsIG5vdCBwYXJ0IG9mIHRoZSBNVlAuXG4vLyBJbnN0ZWFkLCB0aGUgZmlyc3QgdGltZSB5b3UgZ28gdG8gYWxpY2UucHJvbWlzZXMudG8vZm9vIGl0IGdpdmVzIHlvdSB0aGUgXG4vLyBvcHRpb24gdG8gY2hvb3NlIGEgZGVhZGxpbmUsIGRlZmF1bHRpbmcgdG8gbm93KzdkYXlzIChvciB0byB3aGF0IHRoZSBcIi9ieS9cIiBcbi8vIHBhcnQgcGFyc2VkIHRvLCBpZiB0aGF0J3MgZWFzeSwgYnV0IGp1c3QgbWFrZSBpdCBhIHN1Z2dlc3Rpb24gZm9yIHRoZSB1c2VyLCBcbi8vIGp1c3QgbGlrZSBub3crN2RheXMgaXMgaWYgdGhleSBkb24ndCBzcGVjaWZ5IGEgXCIvYnkvXCIpLiBcbi8vIEZvciBldmVyeSBzdWJzZXF1ZW50IEdFVCBvZiBhbGljZS5wcm9taXNlcy50by9mb28gaXQgc2hvd3MgdGhlIGRlYWRsaW5lLCB3aXRoXG4vLyBubyB3YXkgdG8gY2hhbmdlIGl0LlxuXG4vLyBJREVBUyBGT1IgTEFURVI6XG4vLyBTaW1wbGVyIGRhdGUgcGFyc2luZzpcbi8vICAgTWF5YmUgdGhlIGRhdGUgaGFzIHRvIGJlIFlZWVktTU0tRERfSEg6TU1cbi8vICAgRXhhbXBsZTogYm9iLnByb21pc2VzLnRvL2Zvb190aGVfYmFyL2J5LzIwMTctMDktMTNfMTI6MDBcbi8vIE1hZ2ljIHNwYWNlczpcbi8vICAgV2hpY2hldmVyIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVyIGlzIG1vc3QgY29tbW9uIGluIHRoZSB1cnRleHQsIHRoYXQncyBcbi8vICAgd2hhdCdzIGFzc3VtZWQgdG8gYmUgYSBzcGFjZSBhbmQgaXMgcmVwbGFjZWQgd2l0aCBzcGFjZXMgYmVmb3JlIHBhcnNpbmcuXG4vLyBMZXNzIG1hZ2ljYWwgdmVyc2lvbjpcbi8vICAgQSBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlciBtdXN0IGZvbGxvdyBcImFsaWNlLnByb21pc2VzLnRvL1wiIGFuZCB0aGF0XG4vLyAgIGNoYXJhY3RlciBpcyB0YWtlbiBhcyB0aGUgZXJzYXR6IHNwYWNlLiBFZzpcbi8vICAgYWxpY2UucHJvbWlzZXMudG8vX3N0YXJ0X2hlcl9wcm9taXNlc193aXRoX3VuZGVyc2NvcmVzXG4vLyBGbGV4aWJpbGl0eSBvbiB0aGUgJy9ieS8nIHBhcnQ6XG4vLyAgIFJlcXVpcmluZyB0aGUgc3RyaW5nICcvYnkvJyB0byBhcHBlYXIgaW4gdGhlIHByb21pc2UgVVJMIG1lYW5zIG5vIGFtYmlndWl0eVxuLy8gICBhYm91dCB3aGVyZSB0byBzdGFydCBwYXJzaW5nIHRoZSBkZWFkbGluZS4gQnV0IHRoZSBDaHJvbm8gcGFyc2luZyBsaWJyYXJ5IFxuLy8gICBhY3R1YWxseSBkb2VzIGdyZWF0IHRha2luZyB0aGUgd2hvbGUgc3RyaW5nIGxpa2UgXCJmb28gdGhlIGJhciBieSBub29uIFxuLy8gICB0b21vcnJvd1wiIGFuZCBmaWd1cmluZyBvdXQgdGhlIHRpbWUuIFdlIGNvdWxkIGFsc28ganVzdCB0YWtlIHRoZSBsYXN0XG4vLyAgIG9jY3VycmVuY2Ugb2YgXCJieVwiIGFuZCBwYXJzZSBldmVyeXRoaW5nIGFmdGVyIGl0IGFzIHRoZSBkZWFkbGluZS5cblxuLy8gUm91dGVzXG5cbmFwcC5nZXQoW1xuICAnLycsXG4gICcvcHJvbWlzZXMudG8vPycsXG4gICcvY29tbWl0cy50by8/J1xuXSwgKHJlcSwgcmVzcCkgPT4geyBcbiAgY29uc3QgZG9tYWluID0gcmVxLm9yaWdpbmFsVXJsLnN1YnN0cigxKS5yZXBsYWNlKCcvJywnJyk7IC8vIEZJWE1FIHVzZSBkb21haW4gcGFyc2luZyBsaWI/XG4gIGNvbnNvbGUubG9nKCdob21lJywgcmVxLm9yaWdpbmFsVXJsLCBkb21haW4pO1xuICByZXNwLnJlbmRlcignaG9tZScsIHtkb21haW46IGRvbWFpbn0pO1xufSk7XG5cbmFwcC5nZXQoJy9zaWduLXVwJywgKHJlcSwgcmVzcCkgPT4geyByZXNwLnJlbmRlcignc2lnbnVwJykgfSlcblxuLy8gd2Ugd2FudCBhbnkgYWN0aW9uYWJsZSByb3V0ZSB0byBiZSBoYW5kbGVkIGJ5IHRoZSBtaWRkbGV3YXJlIGFuZCBmb3Igbm93XG4vLyB3ZSBwcm9iYWJseSBkb24ndCB3YW50IHRvIGxldCBhbnlvbmUganVzdCBjcmVhdGUgcHJvbWlzZXMgd2l0aCBkb21haW5zIHRoYXQgZG9uJ3QgZXhpc3Rcbi8vIEZJWE1FOiB3ZSBzaG91bGQgaGF2ZSBhIHNpbmdsZSBjb25maWd1cmFibGUgbGlzdCBvZiBkb21haW5zXG5hcHAuZ2V0KCcvOnVzZXIuKFtwcm9taXNlc3xjb21taXRzXStcXC50byspLzpwcm9taXNlPy86bW9kaWZpZXI/LzpkYXRlPycsIGhhbmRsZVByb21pc2VSZXF1ZXN0KVxuXG5cbi8vIEFjdGlvbnNcblxuLy8gRklYTUUgcmVmYWN0b3Ivc2VjdXJlIHRoaXNcbmFwcC5nZXQoJy9wcm9taXNlcy9yZW1vdmUvOmlkJywgKHJlcSwgcmVzcCkgPT4ge1xuICBjb25zb2xlLmxvZygncmVtb3ZlJywgcmVxLnBhcmFtcyk7XG4gIFByb21pc2UuZGVzdHJveSh7XG4gICB3aGVyZToge1xuICAgICBpZDogcmVxLnBhcmFtcy5pZFxuICAgfVxuICB9KVxuICAudGhlbihmdW5jdGlvbihkZWxldGVkUm93cyl7XG4gICAgY29uc29sZS5sb2coJ3Byb21pc2UgcmVtb3ZlZCcsIGRlbGV0ZWRSb3dzKTtcbiAgICByZXNwLnJlZGlyZWN0KCcvJyk7XG4gIH0pXG59KVxuXG4vLyBFbmRwb2ludHNcblxuYXBwLmdldCgnL3Byb21pc2UvOnVkcC86dXJ0eCcsIGZ1bmN0aW9uKHJlcSwgcmVzcCkge1xuICBsZXQgdXJ0eCA9IHJlcS5vcmlnaW5hbFVybC5zdWJzdHIoOSlcbiAgUHJvbWlzZS5maW5kT25lKHsgd2hlcmU6IHt1cnR4fX0pXG4gICAgLnRoZW4oZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgY29uc29sZS5sb2coJ3NpbmdsZSBwcm9taXNlJywgdXJ0eCwgcHJvbWlzZSlcbiAgICAvLyByZXNwLndyaXRlKHByb21pc2UpXG4gICAgcmVzcC5qc29uKHByb21pc2UpXG4gIH0pXG5cbn0pXG5cbmFwcC5nZXQoJy9wcm9taXNlcycsIGZ1bmN0aW9uKHJlcSwgcmVzcCkge1xuICB2YXIgZGJQcm9taXNlcyA9IHt9XG4gIFByb21pc2UuZmluZEFsbCh7XG4gICAgb3JkZXI6IHNlcXVlbGl6ZS5saXRlcmFsKCd0aW5pIERFU0MnKVxuICB9KS50aGVuKGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ2FsbCBwcm9taXNlcycsIHByb21pc2VzKVxuICAgIC8vIGNyZWF0ZSBuZXN0ZWQgYXJyYXkgb2YgcHJvbWlzZXMgYnkgdXNlcjpcbiAgICBwcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uKHByb21pc2UpIHsgXG4gICAgICBkYlByb21pc2VzW3Byb21pc2UudXNlcl0gPSBkYlByb21pc2VzW3Byb21pc2UudXNlcl0gfHwgW11cbiAgICAgIGRiUHJvbWlzZXNbcHJvbWlzZS51c2VyXS5wdXNoKHByb21pc2UpXG4gICAgfSk7XG4gICAgcmVzcC5qc29uKGRiUHJvbWlzZXMpO1xuICB9KVxufSlcblxuYXBwLmdldCgnL3Byb21pc2VzLzp1c2VyJywgZnVuY3Rpb24ocmVxLCByZXNwKSB7XG4gIHZhciBkYlByb21pc2VzID0gW107XG4gIFByb21pc2UuZmluZEFsbCh7XG4gICB3aGVyZToge1xuICAgICB1c2VyOiByZXEucGFyYW1zLnVzZXJcbiAgIH0sXG4gIH0pLnRoZW4oZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgICAvLyBjb25zb2xlLmxvZygndXNlciBwcm9taXNlcycsIHByb21pc2VzKTtcbiAgICBwcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgIGRiUHJvbWlzZXMucHVzaChwcm9taXNlKVxuICAgIH0pXG4gICAgcmVzcC5qc29uKGRiUHJvbWlzZXMpXG4gIH0pXG59KVxuXG5cbi8vIFV0aWxzXG5cbmFwcC5nZXQoJy9yZXNldCcsIChyZXEsIHJlc3ApID0+IHtcbiAgc2V0dXAoKVxuICByZXNwLnJlZGlyZWN0KCcvJylcbn0pXG5cbi8vIHJlbW92ZXMgYWxsIGVudHJpZXMgZnJvbSB0aGUgcHJvbWlzZXMgdGFibGVcbmFwcC5nZXQoJy9jbGVhcicsIChyZXEsIHJlc3ApID0+IHtcbiAgUHJvbWlzZS5kZXN0cm95KHt3aGVyZToge319KVxuICByZXNwLnJlZGlyZWN0KCcvJylcbn0pXG5cbi8vIHV0aWxpdHkgdG8gcG9wdWxhdGUgdGFibGUgd2l0aCBoYXJkY29kZWQgcHJvbWlzZXMgYWJvdmVcbmZ1bmN0aW9uIHNldHVwKCkgeyBcbiAgUHJvbWlzZS5zeW5jKHtmb3JjZTogdHJ1ZX0pIC8vICdmb3JjZTogdHJ1ZScganVzdCBkcm9wcyB0aGUgdGFibGUgaWYgaXQgZXhpc3RzXG4gICAgLnRoZW4oZnVuY3Rpb24oKXsgICAgICAgICAvLyBhbmQgY3JlYXRlcyBhIG5ldyBvbmUhXG4gICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcHJvbWlzZXMgdG8gdGhlIGRhdGFiYXNlXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIFByb21pc2UuY3JlYXRlKHBhcnNlUHJvbWlzZShwcm9taXNlc1tpXSkpXG4gICAgICB9XG4gICAgfSlcbn1cblxuLypcbkxpdHRsZSBwaWN0dXJlOiBXaHkgZG9lcyB0aGlzIGVycm9yIGhhbmRsaW5nIGNvZGUgbm90IHJ1biB3aGVuIEkgc3VyZiB0byBcbmEgYmFkIFVSTCBsaWtlIGl3aWxsLmdsaXRjaC5tZS9mb28lYmFyXG5cbkJpZ2dlciBwaWN0dXJlOiBJJ20gbWFraW5nIGFuIGFwcCB0aGF0IG5lZWRzIHRvIHByb2Nlc3MgYW55IFVSTCB0aGUgdXNlciBtYXkgXG50aHJvdyBhdCBpdC4gSSBuZWVkIHRoZSBzZXJ2ZXIgdG8gZ2V0IHRoZSBleGFjdCBVUkwgdGhlIHdheSB0aGUgdXNlciBzZWVzIGl0IGluIFxudGhlIGJyb3dzZXIuIFRoYXQncyBnb2luZyB0byBiZSBlc3BlY2lhbGx5IHRyaWNreSBmb3IgdGhpbmdzIGxpa2UgJyMnIGNoYXJhY3RlcnNcbmJ1dCByaWdodCBub3cgSSdtIGp1c3QgdHJ5aW5nIHRvIGZpZ3VyZSBvdXQgdGhlIGNhc2Ugb2YgYXJiaXRyYXJ5ICclJyBjaGFyYWN0ZXJzXG50aGF0IG1heSBub3QgY29ycmVzcG9uZCB0byBwcm9wZXIgJS1lbmNvZGluZ3MuXG5cbkknbSB0aGlua2luZyBsaWtlIGEgY2F0Y2hhbGwgZXJyb3ItaGFuZGxpbmcgcm91dGUgdGhhdCBubyBtYXR0ZXIgd2hhdCB3ZWlyZFxuZW5jb2Rpbmcgb3Igd2hhdGV2ZXIgZXJyb3IgaXMgdGhyb3duIEkgY2FuIHN0aWxsIGhhdmUgdGhlIGNvZGUgaGVyZSBkbyBzb21ldGhpbmdcbndpdGggdGhlIFVSTCBhcyB0aGUgdXNlciB0eXBlZCBpdC5cblxuRm9yIG5vdyB3ZSdyZSBqdXN0IGRyb3BwaW5nIGFsbCB0aGlzIGFuZCBoYXZpbmcgdGhlIGFwcCBnaXZlIHRoZSB1c2VyIGFuIGVycm9yXG5pZiB0aGVyZSBhcmUgYW55IHdlaXJkIGNoYXJhY3RlcnMgaW4gdGhlIFVSTC5cblxuYXBwLnVzZShmdW5jdGlvbihyZXEsIHJlc3AsIG5leHQpIHtcbiAgdmFyIGVyciA9IG51bGxcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIlRSWUlOR1wiLCByZXEucGF0aCwgcmVxLnVybClcbiAgICBkZWNvZGVVUklDb21wb25lbnQocmVxLnBhdGgpXG4gIH0gY2F0Y2goZSkge1xuICAgIGVyciA9IGVcbiAgfVxuICBpZiAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coXCJDQVVHSFQgRVJSOlwiLCBlcnIsIHJlcS51cmwpXG4gICAgcmV0dXJuIHJlc3AucmVkaXJlY3QoJy8nKVxuICB9XG4gIG5leHQoKTtcblxuICAvL2NvbnNvbGUubG9nKFwiREVCVUcgVVNFMTpcIiwgcmVxLm9yaWdpbmFsVXJsKVxuICAvL3Jlc3AucmVkaXJlY3QoJy8nKVxufSlcbiovXG5cbi8qIFxubGV0IHRlc3Rcbi8vdGVzdCA9IGNocm9uby5wYXJzZURhdGUoXCJmb28gdGhlIGJhciBieSBzZXAgMTV0aCBub29uXCIpXG50ZXN0ID0gY2hyb25vLnBhcnNlRGF0ZShcIkNhbGxfdGhlX2RlbnRpc3QgYnkgMjAxNy0xMC0xNSAxMnBtXCIpXG5jb25zb2xlLmxvZyhgREVCVUc6ICR7dGVzdH0gKHVuaXh0aW1lID0gJHt0ZXN0LmdldFRpbWUoKS8xMDAwfWApXG5jb25zb2xlLmxvZyhcIkRFQlVHOiBcIiwgSlNPTi5zdHJpbmdpZnkocGFyc2VQcm9taXNlKHByb21pc2VzWzJdKSkpXG4qL1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gODBjaGFycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "use",
        "src",
        "__dirname",
        "dest",
        "force",
        "static",
        "engine",
        "defaultLayout",
        "set",
        "listen",
        "process",
        "env",
        "PORT",
        "get",
        "req",
        "resp",
        "domain",
        "originalUrl",
        "substr",
        "replace",
        "console",
        "log",
        "render",
        "params",
        "destroy",
        "where",
        "id",
        "then",
        "deletedRows",
        "redirect",
        "urtx",
        "findOne",
        "promise",
        "json",
        "dbPromises",
        "findAll",
        "order",
        "literal",
        "promises",
        "forEach",
        "user",
        "push",
        "setup",
        "sync",
        "i",
        "length",
        "create"
      ],
      "mappings": "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",
      "file": "app.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "// --------------------------------- 80chars ---------------------------------->\n\nimport express from 'express';\nimport expressHandlebars from 'express-handlebars';\n\nimport chrono from 'chrono-node'; // Sugar.js parses some things better\nimport moment from 'moment';\nimport sassMiddleware from 'node-sass-middleware';\n\nimport { Promise, sequelize } from './models/promise.js';\n\nimport { users, promises } from './data/seed.js';\n\nimport computeCredit from './lib/latepenalty.js';\nimport parsePromise from './lib/parse.js';\n\nimport handlePromiseRequest from './lib/middleware.js';\n\nvar app = express();\n\napp.use(sassMiddleware({\n  src: __dirname + '/public',\n  dest: '/tmp',\n  // debug: true,\n  force: true,\n  //outputStyle: 'compressed',\n}));\n\napp.use(express.static('public'));\napp.use(express.static('tmp'));\n\napp.engine('handlebars', expressHandlebars({defaultLayout: 'main'}));\napp.set('view engine', 'handlebars');\n\napp.listen(process.env.PORT);\n\n\n// LATEST SPEC:\n// The \"/by/...\" part is an optional power-user thing, not part of the MVP.\n// Instead, the first time you go to alice.promises.to/foo it gives you the \n// option to choose a deadline, defaulting to now+7days (or to what the \"/by/\" \n// part parsed to, if that's easy, but just make it a suggestion for the user, \n// just like now+7days is if they don't specify a \"/by/\"). \n// For every subsequent GET of alice.promises.to/foo it shows the deadline, with\n// no way to change it.\n\n// IDEAS FOR LATER:\n// Simpler date parsing:\n//   Maybe the date has to be YYYY-MM-DD_HH:MM\n//   Example: bob.promises.to/foo_the_bar/by/2017-09-13_12:00\n// Magic spaces:\n//   Whichever non-alphanumeric character is most common in the urtext, that's \n//   what's assumed to be a space and is replaced with spaces before parsing.\n// Less magical version:\n//   A non-alphanumeric character must follow \"alice.promises.to/\" and that\n//   character is taken as the ersatz space. Eg:\n//   alice.promises.to/_start_her_promises_with_underscores\n// Flexibility on the '/by/' part:\n//   Requiring the string '/by/' to appear in the promise URL means no ambiguity\n//   about where to start parsing the deadline. But the Chrono parsing library \n//   actually does great taking the whole string like \"foo the bar by noon \n//   tomorrow\" and figuring out the time. We could also just take the last\n//   occurrence of \"by\" and parse everything after it as the deadline.\n\n// Routes\n\napp.get([\n  '/',\n  '/promises.to/?',\n  '/commits.to/?'\n], (req, resp) => { \n  const domain = req.originalUrl.substr(1).replace('/',''); // FIXME use domain parsing lib?\n  console.log('home', req.originalUrl, domain);\n  resp.render('home', {domain: domain});\n});\n\napp.get('/sign-up', (req, resp) => { resp.render('signup') })\n\n// we want any actionable route to be handled by the middleware and for now\n// we probably don't want to let anyone just create promises with domains that don't exist\n// FIXME: we should have a single configurable list of domains\napp.get('/:user.([promises|commits]+\\.to+)/:promise?/:modifier?/:date?', handlePromiseRequest)\n\n\n// Actions\n\n// FIXME refactor/secure this\napp.get('/promises/remove/:id', (req, resp) => {\n  console.log('remove', req.params);\n  Promise.destroy({\n   where: {\n     id: req.params.id\n   }\n  })\n  .then(function(deletedRows){\n    console.log('promise removed', deletedRows);\n    resp.redirect('/');\n  })\n})\n\n// Endpoints\n\napp.get('/promise/:udp/:urtx', function(req, resp) {\n  let urtx = req.originalUrl.substr(9)\n  Promise.findOne({ where: {urtx}})\n    .then(function(promise) {\n      console.log('single promise', urtx, promise)\n    // resp.write(promise)\n    resp.json(promise)\n  })\n\n})\n\napp.get('/promises', function(req, resp) {\n  var dbPromises = {}\n  Promise.findAll({\n    order: sequelize.literal('tini DESC')\n  }).then(function(promises) {\n    // console.log('all promises', promises)\n    // create nested array of promises by user:\n    promises.forEach(function(promise) { \n      dbPromises[promise.user] = dbPromises[promise.user] || []\n      dbPromises[promise.user].push(promise)\n    });\n    resp.json(dbPromises);\n  })\n})\n\napp.get('/promises/:user', function(req, resp) {\n  var dbPromises = [];\n  Promise.findAll({\n   where: {\n     user: req.params.user\n   },\n  }).then(function(promises) {\n    // console.log('user promises', promises);\n    promises.forEach(function(promise) {\n      dbPromises.push(promise)\n    })\n    resp.json(dbPromises)\n  })\n})\n\n\n// Utils\n\napp.get('/reset', (req, resp) => {\n  setup()\n  resp.redirect('/')\n})\n\n// removes all entries from the promises table\napp.get('/clear', (req, resp) => {\n  Promise.destroy({where: {}})\n  resp.redirect('/')\n})\n\n// utility to populate table with hardcoded promises above\nfunction setup() { \n  Promise.sync({force: true}) // 'force: true' just drops the table if it exists\n    .then(function(){         // and creates a new one!\n      // Add the default promises to the database\n      for (var i = 0; i < promises.length; i++) {\n        Promise.create(parsePromise(promises[i]))\n      }\n    })\n}\n\n/*\nLittle picture: Why does this error handling code not run when I surf to \na bad URL like iwill.glitch.me/foo%bar\n\nBigger picture: I'm making an app that needs to process any URL the user may \nthrow at it. I need the server to get the exact URL the way the user sees it in \nthe browser. That's going to be especially tricky for things like '#' characters\nbut right now I'm just trying to figure out the case of arbitrary '%' characters\nthat may not correspond to proper %-encodings.\n\nI'm thinking like a catchall error-handling route that no matter what weird\nencoding or whatever error is thrown I can still have the code here do something\nwith the URL as the user typed it.\n\nFor now we're just dropping all this and having the app give the user an error\nif there are any weird characters in the URL.\n\napp.use(function(req, resp, next) {\n  var err = null\n  try {\n    console.log(\"TRYING\", req.path, req.url)\n    decodeURIComponent(req.path)\n  } catch(e) {\n    err = e\n  }\n  if (err) {\n    console.log(\"CAUGHT ERR:\", err, req.url)\n    return resp.redirect('/')\n  }\n  next();\n\n  //console.log(\"DEBUG USE1:\", req.originalUrl)\n  //resp.redirect('/')\n})\n*/\n\n/* \nlet test\n//test = chrono.parseDate(\"foo the bar by sep 15th noon\")\ntest = chrono.parseDate(\"Call_the_dentist by 2017-10-15 12pm\")\nconsole.log(`DEBUG: ${test} (unixtime = ${test.getTime()/1000}`)\nconsole.log(\"DEBUG: \", JSON.stringify(parsePromise(promises[2])))\n*/\n\n// --------------------------------- 80chars ---------------------------------->\n"
      ]
    },
    "mtime": 1506884539596
  },
  "{\"filename\":\"/app/models/promise.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "sequelize",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Sequelize"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "Promise",
            "sequelize"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "Promise",
              "exported": "Promise"
            },
            {
              "kind": "local",
              "local": "sequelize",
              "exported": "sequelize"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/models/promise.js",
      "filenameRelative": "/app/models/promise.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "promise.js",
      "sourceFileName": "promise.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "promise"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sequelize = exports.Promise = undefined;\n\nvar _sequelize = require('sequelize');\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sequelize, Promise;\n\n// set up a new database using database credentials set in .env\nexports.sequelize = sequelize = new _sequelize2.default('database', process.env.DB_USER, process.env.DB_PASS, {\n  host: '0.0.0.0',\n  dialect: 'sqlite',\n  pool: {\n    max: 5,\n    min: 0,\n    idle: 10000\n  },\n  // Security note: db is saved to `.data/database.sqlite` in local filesystem.\n  // Nothing in `.data` directory gets copied if someone remixes the project.\n  storage: '.data/database.sqlite'\n});\n\n// authenticate with the database\nsequelize.authenticate().then(function (err) {\n  console.log('Connection has been established successfully.');\n  // define a new table 'promises'\n  exports.Promise = Promise = sequelize.define('promises', {\n    urtx: { type: _sequelize2.default.STRING }, // urtext, including whole URL\n    user: { type: _sequelize2.default.STRING }, // who's making the promise\n    what: { type: _sequelize2.default.STRING }, // what's being promised\n    //whom: { type: Sequelize.STRING  }, // to whom are you promising\n    tini: { type: _sequelize2.default.INTEGER }, // unixtime that promise was made\n    tdue: { type: _sequelize2.default.STRING } // unixtime that the promise is due\n    //tmzn: { type: Sequelize.STRING  }, // timezone\n    //wtdid: { type: Sequelize.INTEGER }, // unixtime that the promise was fulfilled\n    //fill: { type: Sequelize.FLOAT   }, // fraction fulfilled\n    //void: { type: Sequelize.BOOLEAN }, // whether promise was voided\n    // text:   { type: Sequelize.STRING }, // this was just for testing\n  });\n  //setup()\n}).catch(function (err) {\n  console.log('Unable to connect to the database: ', err);\n});\n\nexports.Promise = Promise;\nexports.sequelize = sequelize;\n\n// DATABASE FIELDS:\n//   urtx -- urtext, ie, full original text the user typed to create the promise\n//   user -- who's making the promise\n//   what -- what's being promised\n//   whom -- to whom are you promising\n//   tini -- unixtime that the promise was made\n//   tdue -- unixtime that the promise is due\n//   tmzn -- timezone assumed for parsing the deadline\n//   tfin -- unixtime that the promise was fulfilled\n//   fill -- fraction fulfilled, default 0\n//   void -- true if the promise became unfulfillable or moot\n//   clix -- number of clicks a promise has gotten\n// For example:\n//   urtx = \"bob.promises.to/foo_the_bar/by/noon_tomorrow\"\n//   user = \"bob\"\n//   what = \"foo the bar\"\n//   whom = null\n//   tini = [unixtime of first GET request of the promise's URL]\n//   tdue = [what \"noon tomorrow\" parsed to at time tini]\n//   tmzn = \"America/Los_Angeles\"\n//   tfin = [unixtime that the promise was fulfilled]\n//   fill = 0\n//   void = false\n\n// Other ideas for fields: \n// * information about the client that originally created the promise\n// * whether the promise was created by the actual user (if they were logged in \n//   and were the first to click on it) or by another logged-in user or by \n//   someone not logged in\n// * conf: maybe we create the promise whether or not anyone clicks the button to confirm\n//   it, in which case we store when it's actually been confirmed.\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb21pc2UuanMiXSwibmFtZXMiOlsic2VxdWVsaXplIiwiUHJvbWlzZSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTUyIsImhvc3QiLCJkaWFsZWN0IiwicG9vbCIsIm1heCIsIm1pbiIsImlkbGUiLCJzdG9yYWdlIiwiYXV0aGVudGljYXRlIiwidGhlbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJkZWZpbmUiLCJ1cnR4IiwidHlwZSIsIlNUUklORyIsInVzZXIiLCJ3aGF0IiwidGluaSIsIklOVEVHRVIiLCJ0ZHVlIiwiY2F0Y2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBSUEsU0FBSixFQUFlQyxPQUFmOztBQUVBO0FBQ0EsUUFzQ2tCRCxTQXRDbEIsZUFBWSx3QkFBYyxVQUFkLEVBQTBCRSxRQUFRQyxHQUFSLENBQVlDLE9BQXRDLEVBQzhCRixRQUFRQyxHQUFSLENBQVlFLE9BRDFDLEVBQ21EO0FBQzdEQyxRQUFNLFNBRHVEO0FBRTdEQyxXQUFTLFFBRm9EO0FBRzdEQyxRQUFNO0FBQ0pDLFNBQUssQ0FERDtBQUVKQyxTQUFLLENBRkQ7QUFHSkMsVUFBTTtBQUhGLEdBSHVEO0FBUTdEO0FBQ0E7QUFDQUMsV0FBUztBQVZvRCxDQURuRCxDQUFaOztBQWNBO0FBQ0FaLFVBQVVhLFlBQVYsR0FDR0MsSUFESCxDQUNRLFVBQVNDLEdBQVQsRUFBYztBQUNsQkMsVUFBUUMsR0FBUixDQUFZLCtDQUFaO0FBQ0E7QUFDQSxVQW1CS2hCLE9BbkJMLGFBQVVELFVBQVVrQixNQUFWLENBQWlCLFVBQWpCLEVBQTZCO0FBQ3JDQyxVQUFNLEVBQUVDLE1BQU0sb0JBQVVDLE1BQWxCLEVBRCtCLEVBQ0Y7QUFDbkNDLFVBQU0sRUFBRUYsTUFBTSxvQkFBVUMsTUFBbEIsRUFGK0IsRUFFRjtBQUNuQ0UsVUFBTSxFQUFFSCxNQUFNLG9CQUFVQyxNQUFsQixFQUgrQixFQUdGO0FBQ25DO0FBQ0FHLFVBQU0sRUFBRUosTUFBTSxvQkFBVUssT0FBbEIsRUFMK0IsRUFLRjtBQUNuQ0MsVUFBTSxFQUFFTixNQUFNLG9CQUFVQyxNQUFsQixFQU4rQixDQU1IO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYcUMsR0FBN0IsQ0FBVjtBQWFBO0FBQ0QsQ0FsQkgsRUFtQkdNLEtBbkJILENBbUJTLFVBQVVaLEdBQVYsRUFBZTtBQUNwQkMsVUFBUUMsR0FBUixDQUFZLHFDQUFaLEVBQW1ERixHQUFuRDtBQUNELENBckJIOztRQXVCU2QsTyxHQUFBQSxPO1FBQVNELFMsR0FBQUEsUzs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJwcm9taXNlLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuXG52YXIgc2VxdWVsaXplLCBQcm9taXNlO1xuXG4vLyBzZXQgdXAgYSBuZXcgZGF0YWJhc2UgdXNpbmcgZGF0YWJhc2UgY3JlZGVudGlhbHMgc2V0IGluIC5lbnZcbnNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoJ2RhdGFiYXNlJywgcHJvY2Vzcy5lbnYuREJfVVNFUiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5EQl9QQVNTLCB7XG4gIGhvc3Q6ICcwLjAuMC4wJyxcbiAgZGlhbGVjdDogJ3NxbGl0ZScsXG4gIHBvb2w6IHtcbiAgICBtYXg6IDUsXG4gICAgbWluOiAwLFxuICAgIGlkbGU6IDEwMDAwLFxuICB9LFxuICAvLyBTZWN1cml0eSBub3RlOiBkYiBpcyBzYXZlZCB0byBgLmRhdGEvZGF0YWJhc2Uuc3FsaXRlYCBpbiBsb2NhbCBmaWxlc3lzdGVtLlxuICAvLyBOb3RoaW5nIGluIGAuZGF0YWAgZGlyZWN0b3J5IGdldHMgY29waWVkIGlmIHNvbWVvbmUgcmVtaXhlcyB0aGUgcHJvamVjdC5cbiAgc3RvcmFnZTogJy5kYXRhL2RhdGFiYXNlLnNxbGl0ZSdcbn0pO1xuXG4vLyBhdXRoZW50aWNhdGUgd2l0aCB0aGUgZGF0YWJhc2VcbnNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKVxuICAudGhlbihmdW5jdGlvbihlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuJylcbiAgICAvLyBkZWZpbmUgYSBuZXcgdGFibGUgJ3Byb21pc2VzJ1xuICAgIFByb21pc2UgPSBzZXF1ZWxpemUuZGVmaW5lKCdwcm9taXNlcycsIHtcbiAgICAgIHVydHg6IHsgdHlwZTogU2VxdWVsaXplLlNUUklORyAgfSwgLy8gdXJ0ZXh0LCBpbmNsdWRpbmcgd2hvbGUgVVJMXG4gICAgICB1c2VyOiB7IHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcgIH0sIC8vIHdobydzIG1ha2luZyB0aGUgcHJvbWlzZVxuICAgICAgd2hhdDogeyB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HICB9LCAvLyB3aGF0J3MgYmVpbmcgcHJvbWlzZWRcbiAgICAgIC8vd2hvbTogeyB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HICB9LCAvLyB0byB3aG9tIGFyZSB5b3UgcHJvbWlzaW5nXG4gICAgICB0aW5pOiB7IHR5cGU6IFNlcXVlbGl6ZS5JTlRFR0VSIH0sIC8vIHVuaXh0aW1lIHRoYXQgcHJvbWlzZSB3YXMgbWFkZVxuICAgICAgdGR1ZTogeyB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HIH0sIC8vIHVuaXh0aW1lIHRoYXQgdGhlIHByb21pc2UgaXMgZHVlXG4gICAgICAvL3Rtem46IHsgdHlwZTogU2VxdWVsaXplLlNUUklORyAgfSwgLy8gdGltZXpvbmVcbiAgICAgIC8vd3RkaWQ6IHsgdHlwZTogU2VxdWVsaXplLklOVEVHRVIgfSwgLy8gdW5peHRpbWUgdGhhdCB0aGUgcHJvbWlzZSB3YXMgZnVsZmlsbGVkXG4gICAgICAvL2ZpbGw6IHsgdHlwZTogU2VxdWVsaXplLkZMT0FUICAgfSwgLy8gZnJhY3Rpb24gZnVsZmlsbGVkXG4gICAgICAvL3ZvaWQ6IHsgdHlwZTogU2VxdWVsaXplLkJPT0xFQU4gfSwgLy8gd2hldGhlciBwcm9taXNlIHdhcyB2b2lkZWRcbiAgICAgIC8vIHRleHQ6ICAgeyB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HIH0sIC8vIHRoaXMgd2FzIGp1c3QgZm9yIHRlc3RpbmdcbiAgICB9KTsgICAgXG4gICAgLy9zZXR1cCgpXG4gIH0pXG4gIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZTogJywgZXJyKVxuICB9KVxuXG5leHBvcnQgeyBQcm9taXNlLCBzZXF1ZWxpemUgfTtcblxuLy8gREFUQUJBU0UgRklFTERTOlxuLy8gICB1cnR4IC0tIHVydGV4dCwgaWUsIGZ1bGwgb3JpZ2luYWwgdGV4dCB0aGUgdXNlciB0eXBlZCB0byBjcmVhdGUgdGhlIHByb21pc2Vcbi8vICAgdXNlciAtLSB3aG8ncyBtYWtpbmcgdGhlIHByb21pc2Vcbi8vICAgd2hhdCAtLSB3aGF0J3MgYmVpbmcgcHJvbWlzZWRcbi8vICAgd2hvbSAtLSB0byB3aG9tIGFyZSB5b3UgcHJvbWlzaW5nXG4vLyAgIHRpbmkgLS0gdW5peHRpbWUgdGhhdCB0aGUgcHJvbWlzZSB3YXMgbWFkZVxuLy8gICB0ZHVlIC0tIHVuaXh0aW1lIHRoYXQgdGhlIHByb21pc2UgaXMgZHVlXG4vLyAgIHRtem4gLS0gdGltZXpvbmUgYXNzdW1lZCBmb3IgcGFyc2luZyB0aGUgZGVhZGxpbmVcbi8vICAgdGZpbiAtLSB1bml4dGltZSB0aGF0IHRoZSBwcm9taXNlIHdhcyBmdWxmaWxsZWRcbi8vICAgZmlsbCAtLSBmcmFjdGlvbiBmdWxmaWxsZWQsIGRlZmF1bHQgMFxuLy8gICB2b2lkIC0tIHRydWUgaWYgdGhlIHByb21pc2UgYmVjYW1lIHVuZnVsZmlsbGFibGUgb3IgbW9vdFxuLy8gICBjbGl4IC0tIG51bWJlciBvZiBjbGlja3MgYSBwcm9taXNlIGhhcyBnb3R0ZW5cbi8vIEZvciBleGFtcGxlOlxuLy8gICB1cnR4ID0gXCJib2IucHJvbWlzZXMudG8vZm9vX3RoZV9iYXIvYnkvbm9vbl90b21vcnJvd1wiXG4vLyAgIHVzZXIgPSBcImJvYlwiXG4vLyAgIHdoYXQgPSBcImZvbyB0aGUgYmFyXCJcbi8vICAgd2hvbSA9IG51bGxcbi8vICAgdGluaSA9IFt1bml4dGltZSBvZiBmaXJzdCBHRVQgcmVxdWVzdCBvZiB0aGUgcHJvbWlzZSdzIFVSTF1cbi8vICAgdGR1ZSA9IFt3aGF0IFwibm9vbiB0b21vcnJvd1wiIHBhcnNlZCB0byBhdCB0aW1lIHRpbmldXG4vLyAgIHRtem4gPSBcIkFtZXJpY2EvTG9zX0FuZ2VsZXNcIlxuLy8gICB0ZmluID0gW3VuaXh0aW1lIHRoYXQgdGhlIHByb21pc2Ugd2FzIGZ1bGZpbGxlZF1cbi8vICAgZmlsbCA9IDBcbi8vICAgdm9pZCA9IGZhbHNlXG5cbi8vIE90aGVyIGlkZWFzIGZvciBmaWVsZHM6IFxuLy8gKiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2xpZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoZSBwcm9taXNlXG4vLyAqIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIGNyZWF0ZWQgYnkgdGhlIGFjdHVhbCB1c2VyIChpZiB0aGV5IHdlcmUgbG9nZ2VkIGluIFxuLy8gICBhbmQgd2VyZSB0aGUgZmlyc3QgdG8gY2xpY2sgb24gaXQpIG9yIGJ5IGFub3RoZXIgbG9nZ2VkLWluIHVzZXIgb3IgYnkgXG4vLyAgIHNvbWVvbmUgbm90IGxvZ2dlZCBpblxuLy8gKiBjb25mOiBtYXliZSB3ZSBjcmVhdGUgdGhlIHByb21pc2Ugd2hldGhlciBvciBub3QgYW55b25lIGNsaWNrcyB0aGUgYnV0dG9uIHRvIGNvbmZpcm1cbi8vICAgaXQsIGluIHdoaWNoIGNhc2Ugd2Ugc3RvcmUgd2hlbiBpdCdzIGFjdHVhbGx5IGJlZW4gY29uZmlybWVkLlxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "promise.js"
      ],
      "names": [
        "sequelize",
        "Promise",
        "process",
        "env",
        "DB_USER",
        "DB_PASS",
        "host",
        "dialect",
        "pool",
        "max",
        "min",
        "idle",
        "storage",
        "authenticate",
        "then",
        "err",
        "console",
        "log",
        "define",
        "urtx",
        "type",
        "STRING",
        "user",
        "what",
        "tini",
        "INTEGER",
        "tdue",
        "catch"
      ],
      "mappings": ";;;;;;;AAAA;;;;;;AAEA,IAAIA,SAAJ,EAAeC,OAAf;;AAEA;AACA,QAsCkBD,SAtClB,eAAY,wBAAc,UAAd,EAA0BE,QAAQC,GAAR,CAAYC,OAAtC,EAC8BF,QAAQC,GAAR,CAAYE,OAD1C,EACmD;AAC7DC,QAAM,SADuD;AAE7DC,WAAS,QAFoD;AAG7DC,QAAM;AACJC,SAAK,CADD;AAEJC,SAAK,CAFD;AAGJC,UAAM;AAHF,GAHuD;AAQ7D;AACA;AACAC,WAAS;AAVoD,CADnD,CAAZ;;AAcA;AACAZ,UAAUa,YAAV,GACGC,IADH,CACQ,UAASC,GAAT,EAAc;AAClBC,UAAQC,GAAR,CAAY,+CAAZ;AACA;AACA,UAmBKhB,OAnBL,aAAUD,UAAUkB,MAAV,CAAiB,UAAjB,EAA6B;AACrCC,UAAM,EAAEC,MAAM,oBAAUC,MAAlB,EAD+B,EACF;AACnCC,UAAM,EAAEF,MAAM,oBAAUC,MAAlB,EAF+B,EAEF;AACnCE,UAAM,EAAEH,MAAM,oBAAUC,MAAlB,EAH+B,EAGF;AACnC;AACAG,UAAM,EAAEJ,MAAM,oBAAUK,OAAlB,EAL+B,EAKF;AACnCC,UAAM,EAAEN,MAAM,oBAAUC,MAAlB,EAN+B,CAMH;AAClC;AACA;AACA;AACA;AACA;AAXqC,GAA7B,CAAV;AAaA;AACD,CAlBH,EAmBGM,KAnBH,CAmBS,UAAUZ,GAAV,EAAe;AACpBC,UAAQC,GAAR,CAAY,qCAAZ,EAAmDF,GAAnD;AACD,CArBH;;QAuBSd,O,GAAAA,O;QAASD,S,GAAAA,S;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA",
      "file": "promise.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "import Sequelize from 'sequelize';\n\nvar sequelize, Promise;\n\n// set up a new database using database credentials set in .env\nsequelize = new Sequelize('database', process.env.DB_USER, \n                                          process.env.DB_PASS, {\n  host: '0.0.0.0',\n  dialect: 'sqlite',\n  pool: {\n    max: 5,\n    min: 0,\n    idle: 10000,\n  },\n  // Security note: db is saved to `.data/database.sqlite` in local filesystem.\n  // Nothing in `.data` directory gets copied if someone remixes the project.\n  storage: '.data/database.sqlite'\n});\n\n// authenticate with the database\nsequelize.authenticate()\n  .then(function(err) {\n    console.log('Connection has been established successfully.')\n    // define a new table 'promises'\n    Promise = sequelize.define('promises', {\n      urtx: { type: Sequelize.STRING  }, // urtext, including whole URL\n      user: { type: Sequelize.STRING  }, // who's making the promise\n      what: { type: Sequelize.STRING  }, // what's being promised\n      //whom: { type: Sequelize.STRING  }, // to whom are you promising\n      tini: { type: Sequelize.INTEGER }, // unixtime that promise was made\n      tdue: { type: Sequelize.STRING }, // unixtime that the promise is due\n      //tmzn: { type: Sequelize.STRING  }, // timezone\n      //wtdid: { type: Sequelize.INTEGER }, // unixtime that the promise was fulfilled\n      //fill: { type: Sequelize.FLOAT   }, // fraction fulfilled\n      //void: { type: Sequelize.BOOLEAN }, // whether promise was voided\n      // text:   { type: Sequelize.STRING }, // this was just for testing\n    });    \n    //setup()\n  })\n  .catch(function (err) {\n    console.log('Unable to connect to the database: ', err)\n  })\n\nexport { Promise, sequelize };\n\n// DATABASE FIELDS:\n//   urtx -- urtext, ie, full original text the user typed to create the promise\n//   user -- who's making the promise\n//   what -- what's being promised\n//   whom -- to whom are you promising\n//   tini -- unixtime that the promise was made\n//   tdue -- unixtime that the promise is due\n//   tmzn -- timezone assumed for parsing the deadline\n//   tfin -- unixtime that the promise was fulfilled\n//   fill -- fraction fulfilled, default 0\n//   void -- true if the promise became unfulfillable or moot\n//   clix -- number of clicks a promise has gotten\n// For example:\n//   urtx = \"bob.promises.to/foo_the_bar/by/noon_tomorrow\"\n//   user = \"bob\"\n//   what = \"foo the bar\"\n//   whom = null\n//   tini = [unixtime of first GET request of the promise's URL]\n//   tdue = [what \"noon tomorrow\" parsed to at time tini]\n//   tmzn = \"America/Los_Angeles\"\n//   tfin = [unixtime that the promise was fulfilled]\n//   fill = 0\n//   void = false\n\n// Other ideas for fields: \n// * information about the client that originally created the promise\n// * whether the promise was created by the actual user (if they were logged in \n//   and were the first to click on it) or by another logged-in user or by \n//   someone not logged in\n// * conf: maybe we create the promise whether or not anyone clicks the button to confirm\n//   it, in which case we store when it's actually been confirmed.\n"
      ]
    },
    "mtime": 1506875526482
  },
  "{\"filename\":\"/app/data/seed.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/data\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "users",
            "promises"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "users",
              "exported": "users"
            },
            {
              "kind": "local",
              "local": "promises",
              "exported": "promises"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/data/seed.js",
      "filenameRelative": "/app/data/seed.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "seed.js",
      "sourceFileName": "seed.js",
      "sourceRoot": "/app/data",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/data",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "seed"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar users = exports.users = [\n/* testing */\n\"alice\", \"bob\", \"carol\",\n/* initial co-conspirators */\n\"dreev\", \"sergii\", \"kim\", \"bee\", \"braden\",\n/* daily beemail */\n\"byorgey\", \"nick\", \"josh\", \"dehowell\", \"caillu\", \"mbork\", \"roy\", \"jennyli\", \"owen\",\n/* weekly beemail */\n\"samuel\", \"cole\", \"jessica\", \"steven\",\n/* contributors */\n\"chris\", \"stephen\",\n/* invitees */\n\"pierre\", \"chelsea\"];\n\n// dreev calls dibs on \"danny\", \"dan\", & \"d\" in case we implement aliases\n\n// Initial promise list hardcoded so don't have to worry about blowing db away\nvar promises = exports.promises = [\"alice.promises.to/File_the_TPS_report/by/noon_mon\", \"bob.promises.to/Send_vacation_photos/by/saturday\", \"carol.promises.to/Call_the_dentist/by/12am\", \"dreev.promises.to/show_sergii_this_doing_something_useful/by/3am\", // 9-10, done\n\"dreev.promises.to/show_bee_open_questions/by/10:30pm\", // 9-10, done\n\"braden.promises.to/help_with_javascript/by/5pm\", // 9-11\n\"dreev.promises.to/show_brennan_intro/by/10:50pm\", // 9-11, done\n\"dreev.promises.to/queue_tweet_etc_for_blog_post/by/2pm\", // 9-11, done\n\"dreev.promises.to/order_indian/by/5:30pm\", // 9-12, done\n\"dreev.commits.to/ask_bee_re_sunday_parkways\", // 9-13, done\n\"dreev.commits.to/follow_up_with_everyone_re_guest_blogging\", // 9-13\n\"josh.commits.to/get_realisies_running/by/september_30\", // 9-13\n\"braden.commits.to/outline_bite_counting_post/by/Sunday_11pm\", // 9-13\n\"dreev.commits.to/report_glitch_bug\", // 9-14, done\n\"dreev.commits.to/googledocify_intern_form/by/12pm\", // 9-14, done\n\"dreev.promises.to/test_penalty_func/by/saturday_noon\", // 9-14, done\n\"sergii.promises.to/work_on_points_2_to_4/by/next_monday\", // 9-14\n\"dreev.commits.to/meta_debrief_kim/by/midnight_friday\", // 9-14, done\n\"dreev.commits.to/ping_mirabai/by/sep_22\", // 9-14, done\n\"dreev.commits.to/send_ms_gross_email/by/sunday_11am\", // 9-14, done\n\"dreev.promises.to/ping_oli/by/nov_16\", // 9-15\n\"dreev.promises.to/ping_byorgey/by/dec_20\", // 9-15\n\"dreev.promises.to/labelzero/by/1am\", // 9-15, done\n\"chris.promises.to/follow_up_on_that_support_thread\", // 9-18\n\"bee.commits.to/new-family-photo-to-yoko/by/tomorrow-night\", // 9-18, done\n\"bee.commits.to/rest-of-paperwork-to-yoko-before-the-gym-tomorrow\", // 9-18, done 2 hours late\n\"dreev.promises.to/debug_capitalization/by/tomorrow\", // 9-18, done 23.4 hours late\n\"bee.commits.to/email-sleep-as-android-for-specifics-about-sleep-length-measurement\", // 9-19\n\"jessica.commits.to/let_bob_know_re_meeting/by/tomorrow_5pm\", // 9-19\n\"samuel.commits.to/finish_ch_23_problem_set/by/today_6_pm\", // 9-19\n\"dreev.promises.to/intern_disc/by/wed\", // 9-19, done\n\"kim.promises.to/email_argue_summary/by/fri\", // 9-19\n\"dreev.commits.to/clear_bogus_commit_for_nick/by/5_minutes_from_now\", // 9-19, done\n\"kim.promises.to/reflect_Respond_anxiety_spiral_Assist/by/sat\", // 9-19\n\"dreev.commits.to/schedule-k_tax_thing/by/5pm\", // 9-19, done\n\"dreev.promises.to/set_up_mom_on_wordfeud/by/tomorrow\", // 9-20, done/void\n\"dreev.promises.to/reply_to_use_case_email/by/midnight\", // 9-20, done\n\"kim.promises.to/consider_all_weekend_social_options/by/fri/10pm\", // 9-20\n\"kim.promises.to/submit_conclusion_email/by/10/16\", // 9-21\n\"kim.promises.to/complete_type_1_essay/by/10/1\", // 9-21\n\"kim.promises.to/inform_eve_plans/by/2\", // 9-21\n\"kim.promises.to/email_cynthia_charlap_tickets/by/9/22\", // 9-21\n\"kim.promises.to/schedule_attorney_meet/by/10/1\", // 9-21\n\"kim.promises.to/john_PAM_photos_ask/by/10/1\", // 9-21\n\"kim.promises.to/Nike_p5_email/by/10/1\", // 9-21\n\"kim.promises.to/intro_martin_marna/by/10/5\", // 9-21\n\"kim.promises.to/sbonomic_jitsjudgelist_doc/by/10/15\", // 9-21\n\"kim.promises.to/consider_all_weekend_social_options/by/fri/10pm\", // 9-21\n\"dreev.commits.to/dedup_the_iwills/by/nov\", // 9-22\n\"byorgey.promises.to/email_cut_property_summary/by/7pm\", // 9-22\n\"dreev.commits.to/copy_editing_pass_on_tao2/by/tmw_2pm\", // 9-22, done\n\"chris.promises.to/open_a_smoothie_shop/by/December\", // 9-25\n\"pierre.promises.to/water_the_office_plant/by/Friday\", // 9-25\n\"dreev.promises.to/hanna_reply/by/tonight\", // 9-26, done\n\"bee.promises.to/read-hannas-emails\", // 9-26, done\n\"bee.promises.to/reping-one-with-heart\", // 9-26\n\"bee.promises.to/fill-out-metromile-feedback\", // 9-26\n\"bee.promises.to/schedule-planning-with-cantor/by/friday-night\", // 9-26, done\n\"dreev.promises.to/ask_jana_about_blood_testers/by/dec_1\", // 9-26\n\"dreev.commits.to/take_copyediting_pass_on_micheles_draft/by/saturday\", // 9/27,\n\"stephen.promises.to/decide_upon_late_october_trip/by/saturday\", // 9-27\n\"roy.promises.to/sign_up_for_app\", // 9-27\n\"jennyli.promises.to/water_the_plants/by/sunday\", // 9-27\n\"owen.promises.to/adjust-the-shed/by/tonight_7pm\", // 9-28\n\"cole.promises.to/find_a_rep_for_dining_vendors\", // 9-28\n\"chris.promises.to/learn-more-about-glitch/by/monday\", // 9-28\n\"chris.promises.to/learn-more-about-something-else/by/monday\", // 9-28\n\"dreev.promises.to/add_chelsea_to_commits_to/by/11am\", // 9-29, done\n\"bee.commits.to/put-away-camping-gear-this-weekend\", // 9-29\n\"owen.promises.to/research_and_pseudocode_calendar_integration/by/oct_6\", // 9-29\n\"caillu.commits.to/test_trying_out_time/by/2017-09-30_20:42\"];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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REFwRXNCLEVBb0VpQztBQUN2RCxtREFyRXNCLEVBcUUrQjtBQUNyRCx3RUF0RXNCLEVBc0VvRDtBQUMxRSw0REF2RXNCLENBQWpCIiwiZmlsZSI6InNlZWQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9kYXRhIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHVzZXJzID0gWyBcbiAgLyogdGVzdGluZyAqLyBcbiAgXCJhbGljZVwiLCBcImJvYlwiLCBcImNhcm9sXCIsXG4gIC8qIGluaXRpYWwgY28tY29uc3BpcmF0b3JzICovIFxuICBcImRyZWV2XCIsIFwic2VyZ2lpXCIsIFwia2ltXCIsIFwiYmVlXCIsIFwiYnJhZGVuXCIsIFxuICAvKiBkYWlseSBiZWVtYWlsICovIFxuICBcImJ5b3JnZXlcIiwgXCJuaWNrXCIsIFwiam9zaFwiLCBcImRlaG93ZWxsXCIsIFwiY2FpbGx1XCIsIFwibWJvcmtcIiwgXCJyb3lcIiwgXCJqZW5ueWxpXCIsIFxuICBcIm93ZW5cIixcbiAgLyogd2Vla2x5IGJlZW1haWwgKi8gXG4gIFwic2FtdWVsXCIsIFwiY29sZVwiLCBcImplc3NpY2FcIiwgXCJzdGV2ZW5cIixcbiAgLyogY29udHJpYnV0b3JzICovIFxuICBcImNocmlzXCIsIFwic3RlcGhlblwiLFxuICAvKiBpbnZpdGVlcyAqLyBcbiAgXCJwaWVycmVcIiwgXCJjaGVsc2VhXCIsIFxuXVxuXG4vLyBkcmVldiBjYWxscyBkaWJzIG9uIFwiZGFubnlcIiwgXCJkYW5cIiwgJiBcImRcIiBpbiBjYXNlIHdlIGltcGxlbWVudCBhbGlhc2VzXG5cbi8vIEluaXRpYWwgcHJvbWlzZSBsaXN0IGhhcmRjb2RlZCBzbyBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IGJsb3dpbmcgZGIgYXdheVxuZXhwb3J0IGNvbnN0IHByb21pc2VzID0gW1xuICBcImFsaWNlLnByb21pc2VzLnRvL0ZpbGVfdGhlX1RQU19yZXBvcnQvYnkvbm9vbl9tb25cIixcbiAgXCJib2IucHJvbWlzZXMudG8vU2VuZF92YWNhdGlvbl9waG90b3MvYnkvc2F0dXJkYXlcIixcbiAgXCJjYXJvbC5wcm9taXNlcy50by9DYWxsX3RoZV9kZW50aXN0L2J5LzEyYW1cIixcbiAgXCJkcmVldi5wcm9taXNlcy50by9zaG93X3NlcmdpaV90aGlzX2RvaW5nX3NvbWV0aGluZ191c2VmdWwvYnkvM2FtXCIsIC8vIDktMTAsIGRvbmVcbiAgXCJkcmVldi5wcm9taXNlcy50by9zaG93X2JlZV9vcGVuX3F1ZXN0aW9ucy9ieS8xMDozMHBtXCIsIC8vIDktMTAsIGRvbmVcbiAgXCJicmFkZW4ucHJvbWlzZXMudG8vaGVscF93aXRoX2phdmFzY3JpcHQvYnkvNXBtXCIsIC8vIDktMTFcbiAgXCJkcmVldi5wcm9taXNlcy50by9zaG93X2JyZW5uYW5faW50cm8vYnkvMTA6NTBwbVwiLCAvLyA5LTExLCBkb25lXG4gIFwiZHJlZXYucHJvbWlzZXMudG8vcXVldWVfdHdlZXRfZXRjX2Zvcl9ibG9nX3Bvc3QvYnkvMnBtXCIsIC8vIDktMTEsIGRvbmVcbiAgXCJkcmVldi5wcm9taXNlcy50by9vcmRlcl9pbmRpYW4vYnkvNTozMHBtXCIsIC8vIDktMTIsIGRvbmVcbiAgXCJkcmVldi5jb21taXRzLnRvL2Fza19iZWVfcmVfc3VuZGF5X3Bhcmt3YXlzXCIsIC8vIDktMTMsIGRvbmVcbiAgXCJkcmVldi5jb21taXRzLnRvL2ZvbGxvd191cF93aXRoX2V2ZXJ5b25lX3JlX2d1ZXN0X2Jsb2dnaW5nXCIsIC8vIDktMTNcbiAgXCJqb3NoLmNvbW1pdHMudG8vZ2V0X3JlYWxpc2llc19ydW5uaW5nL2J5L3NlcHRlbWJlcl8zMFwiLCAvLyA5LTEzXG4gIFwiYnJhZGVuLmNvbW1pdHMudG8vb3V0bGluZV9iaXRlX2NvdW50aW5nX3Bvc3QvYnkvU3VuZGF5XzExcG1cIiwgLy8gOS0xM1xuICBcImRyZWV2LmNvbW1pdHMudG8vcmVwb3J0X2dsaXRjaF9idWdcIiwgLy8gOS0xNCwgZG9uZVxuICBcImRyZWV2LmNvbW1pdHMudG8vZ29vZ2xlZG9jaWZ5X2ludGVybl9mb3JtL2J5LzEycG1cIiwgLy8gOS0xNCwgZG9uZVxuICBcImRyZWV2LnByb21pc2VzLnRvL3Rlc3RfcGVuYWx0eV9mdW5jL2J5L3NhdHVyZGF5X25vb25cIiwgLy8gOS0xNCwgZG9uZVxuICBcInNlcmdpaS5wcm9taXNlcy50by93b3JrX29uX3BvaW50c18yX3RvXzQvYnkvbmV4dF9tb25kYXlcIiwgLy8gOS0xNFxuICBcImRyZWV2LmNvbW1pdHMudG8vbWV0YV9kZWJyaWVmX2tpbS9ieS9taWRuaWdodF9mcmlkYXlcIiwgLy8gOS0xNCwgZG9uZVxuICBcImRyZWV2LmNvbW1pdHMudG8vcGluZ19taXJhYmFpL2J5L3NlcF8yMlwiLCAvLyA5LTE0LCBkb25lXG4gIFwiZHJlZXYuY29tbWl0cy50by9zZW5kX21zX2dyb3NzX2VtYWlsL2J5L3N1bmRheV8xMWFtXCIsIC8vIDktMTQsIGRvbmVcbiAgXCJkcmVldi5wcm9taXNlcy50by9waW5nX29saS9ieS9ub3ZfMTZcIiwgLy8gOS0xNVxuICBcImRyZWV2LnByb21pc2VzLnRvL3BpbmdfYnlvcmdleS9ieS9kZWNfMjBcIiwgLy8gOS0xNVxuICBcImRyZWV2LnByb21pc2VzLnRvL2xhYmVsemVyby9ieS8xYW1cIiwgLy8gOS0xNSwgZG9uZVxuICBcImNocmlzLnByb21pc2VzLnRvL2ZvbGxvd191cF9vbl90aGF0X3N1cHBvcnRfdGhyZWFkXCIsIC8vIDktMThcbiAgXCJiZWUuY29tbWl0cy50by9uZXctZmFtaWx5LXBob3RvLXRvLXlva28vYnkvdG9tb3Jyb3ctbmlnaHRcIiwgLy8gOS0xOCwgZG9uZVxuICBcImJlZS5jb21taXRzLnRvL3Jlc3Qtb2YtcGFwZXJ3b3JrLXRvLXlva28tYmVmb3JlLXRoZS1neW0tdG9tb3Jyb3dcIiwgLy8gOS0xOCwgZG9uZSAyIGhvdXJzIGxhdGVcbiAgXCJkcmVldi5wcm9taXNlcy50by9kZWJ1Z19jYXBpdGFsaXphdGlvbi9ieS90b21vcnJvd1wiLCAvLyA5LTE4LCBkb25lIDIzLjQgaG91cnMgbGF0ZVxuICBcImJlZS5jb21taXRzLnRvL2VtYWlsLXNsZWVwLWFzLWFuZHJvaWQtZm9yLXNwZWNpZmljcy1hYm91dC1zbGVlcC1sZW5ndGgtbWVhc3VyZW1lbnRcIiwgLy8gOS0xOVxuICBcImplc3NpY2EuY29tbWl0cy50by9sZXRfYm9iX2tub3dfcmVfbWVldGluZy9ieS90b21vcnJvd181cG1cIiwgLy8gOS0xOVxuICBcInNhbXVlbC5jb21taXRzLnRvL2ZpbmlzaF9jaF8yM19wcm9ibGVtX3NldC9ieS90b2RheV82X3BtXCIsIC8vIDktMTlcbiAgXCJkcmVldi5wcm9taXNlcy50by9pbnRlcm5fZGlzYy9ieS93ZWRcIiwgLy8gOS0xOSwgZG9uZVxuICBcImtpbS5wcm9taXNlcy50by9lbWFpbF9hcmd1ZV9zdW1tYXJ5L2J5L2ZyaVwiLCAvLyA5LTE5XG4gIFwiZHJlZXYuY29tbWl0cy50by9jbGVhcl9ib2d1c19jb21taXRfZm9yX25pY2svYnkvNV9taW51dGVzX2Zyb21fbm93XCIsIC8vIDktMTksIGRvbmVcbiAgXCJraW0ucHJvbWlzZXMudG8vcmVmbGVjdF9SZXNwb25kX2FueGlldHlfc3BpcmFsX0Fzc2lzdC9ieS9zYXRcIiwgLy8gOS0xOVxuICBcImRyZWV2LmNvbW1pdHMudG8vc2NoZWR1bGUta190YXhfdGhpbmcvYnkvNXBtXCIsIC8vIDktMTksIGRvbmVcbiAgXCJkcmVldi5wcm9taXNlcy50by9zZXRfdXBfbW9tX29uX3dvcmRmZXVkL2J5L3RvbW9ycm93XCIsIC8vIDktMjAsIGRvbmUvdm9pZFxuICBcImRyZWV2LnByb21pc2VzLnRvL3JlcGx5X3RvX3VzZV9jYXNlX2VtYWlsL2J5L21pZG5pZ2h0XCIsIC8vIDktMjAsIGRvbmVcbiAgXCJraW0ucHJvbWlzZXMudG8vY29uc2lkZXJfYWxsX3dlZWtlbmRfc29jaWFsX29wdGlvbnMvYnkvZnJpLzEwcG1cIiwgLy8gOS0yMFxuICBcImtpbS5wcm9taXNlcy50by9zdWJtaXRfY29uY2x1c2lvbl9lbWFpbC9ieS8xMC8xNlwiLCAvLyA5LTIxXG4gIFwia2ltLnByb21pc2VzLnRvL2NvbXBsZXRlX3R5cGVfMV9lc3NheS9ieS8xMC8xXCIsIC8vIDktMjFcbiAgXCJraW0ucHJvbWlzZXMudG8vaW5mb3JtX2V2ZV9wbGFucy9ieS8yXCIsIC8vIDktMjFcbiAgXCJraW0ucHJvbWlzZXMudG8vZW1haWxfY3ludGhpYV9jaGFybGFwX3RpY2tldHMvYnkvOS8yMlwiLCAvLyA5LTIxXG4gIFwia2ltLnByb21pc2VzLnRvL3NjaGVkdWxlX2F0dG9ybmV5X21lZXQvYnkvMTAvMVwiLCAvLyA5LTIxXG4gIFwia2ltLnByb21pc2VzLnRvL2pvaG5fUEFNX3Bob3Rvc19hc2svYnkvMTAvMVwiLCAvLyA5LTIxXG4gIFwia2ltLnByb21pc2VzLnRvL05pa2VfcDVfZW1haWwvYnkvMTAvMVwiLCAvLyA5LTIxXG4gIFwia2ltLnByb21pc2VzLnRvL2ludHJvX21hcnRpbl9tYXJuYS9ieS8xMC81XCIsIC8vIDktMjFcbiAgXCJraW0ucHJvbWlzZXMudG8vc2Jvbm9taWNfaml0c2p1ZGdlbGlzdF9kb2MvYnkvMTAvMTVcIiwgLy8gOS0yMVxuICBcImtpbS5wcm9taXNlcy50by9jb25zaWRlcl9hbGxfd2Vla2VuZF9zb2NpYWxfb3B0aW9ucy9ieS9mcmkvMTBwbVwiLCAvLyA5LTIxXG4gIFwiZHJlZXYuY29tbWl0cy50by9kZWR1cF90aGVfaXdpbGxzL2J5L25vdlwiLCAvLyA5LTIyXG4gIFwiYnlvcmdleS5wcm9taXNlcy50by9lbWFpbF9jdXRfcHJvcGVydHlfc3VtbWFyeS9ieS83cG1cIiwgLy8gOS0yMlxuICBcImRyZWV2LmNvbW1pdHMudG8vY29weV9lZGl0aW5nX3Bhc3Nfb25fdGFvMi9ieS90bXdfMnBtXCIsIC8vIDktMjIsIGRvbmVcbiAgXCJjaHJpcy5wcm9taXNlcy50by9vcGVuX2Ffc21vb3RoaWVfc2hvcC9ieS9EZWNlbWJlclwiLCAvLyA5LTI1XG4gIFwicGllcnJlLnByb21pc2VzLnRvL3dhdGVyX3RoZV9vZmZpY2VfcGxhbnQvYnkvRnJpZGF5XCIsIC8vIDktMjVcbiAgXCJkcmVldi5wcm9taXNlcy50by9oYW5uYV9yZXBseS9ieS90b25pZ2h0XCIsIC8vIDktMjYsIGRvbmVcbiAgXCJiZWUucHJvbWlzZXMudG8vcmVhZC1oYW5uYXMtZW1haWxzXCIsIC8vIDktMjYsIGRvbmVcbiAgXCJiZWUucHJvbWlzZXMudG8vcmVwaW5nLW9uZS13aXRoLWhlYXJ0XCIsIC8vIDktMjZcbiAgXCJiZWUucHJvbWlzZXMudG8vZmlsbC1vdXQtbWV0cm9taWxlLWZlZWRiYWNrXCIsIC8vIDktMjZcbiAgXCJiZWUucHJvbWlzZXMudG8vc2NoZWR1bGUtcGxhbm5pbmctd2l0aC1jYW50b3IvYnkvZnJpZGF5LW5pZ2h0XCIsIC8vIDktMjYsIGRvbmVcbiAgXCJkcmVldi5wcm9taXNlcy50by9hc2tfamFuYV9hYm91dF9ibG9vZF90ZXN0ZXJzL2J5L2RlY18xXCIsIC8vIDktMjZcbiAgXCJkcmVldi5jb21taXRzLnRvL3Rha2VfY29weWVkaXRpbmdfcGFzc19vbl9taWNoZWxlc19kcmFmdC9ieS9zYXR1cmRheVwiLCAvLyA5LzI3LFxuICBcInN0ZXBoZW4ucHJvbWlzZXMudG8vZGVjaWRlX3Vwb25fbGF0ZV9vY3RvYmVyX3RyaXAvYnkvc2F0dXJkYXlcIiwgLy8gOS0yN1xuICBcInJveS5wcm9taXNlcy50by9zaWduX3VwX2Zvcl9hcHBcIiwgLy8gOS0yN1xuICBcImplbm55bGkucHJvbWlzZXMudG8vd2F0ZXJfdGhlX3BsYW50cy9ieS9zdW5kYXlcIiwgLy8gOS0yN1xuICBcIm93ZW4ucHJvbWlzZXMudG8vYWRqdXN0LXRoZS1zaGVkL2J5L3RvbmlnaHRfN3BtXCIsIC8vIDktMjhcbiAgXCJjb2xlLnByb21pc2VzLnRvL2ZpbmRfYV9yZXBfZm9yX2RpbmluZ192ZW5kb3JzXCIsIC8vIDktMjhcbiAgXCJjaHJpcy5wcm9taXNlcy50by9sZWFybi1tb3JlLWFib3V0LWdsaXRjaC9ieS9tb25kYXlcIiwgLy8gOS0yOFxuICBcImNocmlzLnByb21pc2VzLnRvL2xlYXJuLW1vcmUtYWJvdXQtc29tZXRoaW5nLWVsc2UvYnkvbW9uZGF5XCIsIC8vIDktMjhcbiAgXCJkcmVldi5wcm9taXNlcy50by9hZGRfY2hlbHNlYV90b19jb21taXRzX3RvL2J5LzExYW1cIiwgLy8gOS0yOSwgZG9uZVxuICBcImJlZS5jb21taXRzLnRvL3B1dC1hd2F5LWNhbXBpbmctZ2Vhci10aGlzLXdlZWtlbmRcIiwgLy8gOS0yOVxuICBcIm93ZW4ucHJvbWlzZXMudG8vcmVzZWFyY2hfYW5kX3BzZXVkb2NvZGVfY2FsZW5kYXJfaW50ZWdyYXRpb24vYnkvb2N0XzZcIiwgLy8gOS0yOVxuICBcImNhaWxsdS5jb21taXRzLnRvL3Rlc3RfdHJ5aW5nX291dF90aW1lL2J5LzIwMTctMDktMzBfMjA6NDJcIiwgLy8gOS0zMFxuICBcbl1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "seed.js"
      ],
      "names": [
        "users",
        "promises"
      ],
      "mappings": ";;;;;AAAO,IAAMA,wBAAQ;AACnB;AACA,OAFmB,EAEV,KAFU,EAEH,OAFG;AAGnB;AACA,OAJmB,EAIV,QAJU,EAIA,KAJA,EAIO,KAJP,EAIc,QAJd;AAKnB;AACA,SANmB,EAMR,MANQ,EAMA,MANA,EAMQ,UANR,EAMoB,QANpB,EAM8B,OAN9B,EAMuC,KANvC,EAM8C,SAN9C,EAOnB,MAPmB;AAQnB;AACA,QATmB,EAST,MATS,EASD,SATC,EASU,QATV;AAUnB;AACA,OAXmB,EAWV,SAXU;AAYnB;AACA,QAbmB,EAaT,SAbS,CAAd;;AAgBP;;AAEA;AACO,IAAMC,8BAAW,CACtB,mDADsB,EAEtB,kDAFsB,EAGtB,4CAHsB,EAItB,kEAJsB,EAI8C;AACpE,sDALsB,EAKkC;AACxD,gDANsB,EAM4B;AAClD,iDAPsB,EAO6B;AACnD,wDARsB,EAQoC;AAC1D,0CATsB,EASsB;AAC5C,6CAVsB,EAUyB;AAC/C,4DAXsB,EAWwC;AAC9D,uDAZsB,EAYmC;AACzD,6DAbsB,EAayC;AAC/D,oCAdsB,EAcgB;AACtC,mDAfsB,EAe+B;AACrD,sDAhBsB,EAgBkC;AACxD,yDAjBsB,EAiBqC;AAC3D,sDAlBsB,EAkBkC;AACxD,yCAnBsB,EAmBqB;AAC3C,qDApBsB,EAoBiC;AACvD,sCArBsB,EAqBkB;AACxC,0CAtBsB,EAsBsB;AAC5C,oCAvBsB,EAuBgB;AACtC,oDAxBsB,EAwBgC;AACtD,2DAzBsB,EAyBuC;AAC7D,kEA1BsB,EA0B8C;AACpE,oDA3BsB,EA2BgC;AACtD,oFA5BsB,EA4BgE;AACtF,4DA7BsB,EA6BwC;AAC9D,0DA9BsB,EA8BsC;AAC5D,sCA/BsB,EA+BkB;AACxC,4CAhCsB,EAgCwB;AAC9C,oEAjCsB,EAiCgD;AACtE,8DAlCsB,EAkC0C;AAChE,8CAnCsB,EAmC0B;AAChD,sDApCsB,EAoCkC;AACxD,uDArCsB,EAqCmC;AACzD,iEAtCsB,EAsC6C;AACnE,kDAvCsB,EAuC8B;AACpD,+CAxCsB,EAwC2B;AACjD,uCAzCsB,EAyCmB;AACzC,uDA1CsB,EA0CmC;AACzD,gDA3CsB,EA2C4B;AAClD,6CA5CsB,EA4CyB;AAC/C,uCA7CsB,EA6CmB;AACzC,4CA9CsB,EA8CwB;AAC9C,qDA/CsB,EA+CiC;AACvD,iEAhDsB,EAgD6C;AACnE,0CAjDsB,EAiDsB;AAC5C,uDAlDsB,EAkDmC;AACzD,uDAnDsB,EAmDmC;AACzD,oDApDsB,EAoDgC;AACtD,qDArDsB,EAqDiC;AACvD,0CAtDsB,EAsDsB;AAC5C,oCAvDsB,EAuDgB;AACtC,uCAxDsB,EAwDmB;AACzC,6CAzDsB,EAyDyB;AAC/C,+DA1DsB,EA0D2C;AACjE,yDA3DsB,EA2DqC;AAC3D,sEA5DsB,EA4DkD;AACxE,+DA7DsB,EA6D2C;AACjE,iCA9DsB,EA8Da;AACnC,gDA/DsB,EA+D4B;AAClD,iDAhEsB,EAgE6B;AACnD,gDAjEsB,EAiE4B;AAClD,qDAlEsB,EAkEiC;AACvD,6DAnEsB,EAmEyC;AAC/D,qDApEsB,EAoEiC;AACvD,mDArEsB,EAqE+B;AACrD,wEAtEsB,EAsEoD;AAC1E,4DAvEsB,CAAjB",
      "file": "seed.js",
      "sourceRoot": "/app/data",
      "sourcesContent": [
        "export const users = [ \n  /* testing */ \n  \"alice\", \"bob\", \"carol\",\n  /* initial co-conspirators */ \n  \"dreev\", \"sergii\", \"kim\", \"bee\", \"braden\", \n  /* daily beemail */ \n  \"byorgey\", \"nick\", \"josh\", \"dehowell\", \"caillu\", \"mbork\", \"roy\", \"jennyli\", \n  \"owen\",\n  /* weekly beemail */ \n  \"samuel\", \"cole\", \"jessica\", \"steven\",\n  /* contributors */ \n  \"chris\", \"stephen\",\n  /* invitees */ \n  \"pierre\", \"chelsea\", \n]\n\n// dreev calls dibs on \"danny\", \"dan\", & \"d\" in case we implement aliases\n\n// Initial promise list hardcoded so don't have to worry about blowing db away\nexport const promises = [\n  \"alice.promises.to/File_the_TPS_report/by/noon_mon\",\n  \"bob.promises.to/Send_vacation_photos/by/saturday\",\n  \"carol.promises.to/Call_the_dentist/by/12am\",\n  \"dreev.promises.to/show_sergii_this_doing_something_useful/by/3am\", // 9-10, done\n  \"dreev.promises.to/show_bee_open_questions/by/10:30pm\", // 9-10, done\n  \"braden.promises.to/help_with_javascript/by/5pm\", // 9-11\n  \"dreev.promises.to/show_brennan_intro/by/10:50pm\", // 9-11, done\n  \"dreev.promises.to/queue_tweet_etc_for_blog_post/by/2pm\", // 9-11, done\n  \"dreev.promises.to/order_indian/by/5:30pm\", // 9-12, done\n  \"dreev.commits.to/ask_bee_re_sunday_parkways\", // 9-13, done\n  \"dreev.commits.to/follow_up_with_everyone_re_guest_blogging\", // 9-13\n  \"josh.commits.to/get_realisies_running/by/september_30\", // 9-13\n  \"braden.commits.to/outline_bite_counting_post/by/Sunday_11pm\", // 9-13\n  \"dreev.commits.to/report_glitch_bug\", // 9-14, done\n  \"dreev.commits.to/googledocify_intern_form/by/12pm\", // 9-14, done\n  \"dreev.promises.to/test_penalty_func/by/saturday_noon\", // 9-14, done\n  \"sergii.promises.to/work_on_points_2_to_4/by/next_monday\", // 9-14\n  \"dreev.commits.to/meta_debrief_kim/by/midnight_friday\", // 9-14, done\n  \"dreev.commits.to/ping_mirabai/by/sep_22\", // 9-14, done\n  \"dreev.commits.to/send_ms_gross_email/by/sunday_11am\", // 9-14, done\n  \"dreev.promises.to/ping_oli/by/nov_16\", // 9-15\n  \"dreev.promises.to/ping_byorgey/by/dec_20\", // 9-15\n  \"dreev.promises.to/labelzero/by/1am\", // 9-15, done\n  \"chris.promises.to/follow_up_on_that_support_thread\", // 9-18\n  \"bee.commits.to/new-family-photo-to-yoko/by/tomorrow-night\", // 9-18, done\n  \"bee.commits.to/rest-of-paperwork-to-yoko-before-the-gym-tomorrow\", // 9-18, done 2 hours late\n  \"dreev.promises.to/debug_capitalization/by/tomorrow\", // 9-18, done 23.4 hours late\n  \"bee.commits.to/email-sleep-as-android-for-specifics-about-sleep-length-measurement\", // 9-19\n  \"jessica.commits.to/let_bob_know_re_meeting/by/tomorrow_5pm\", // 9-19\n  \"samuel.commits.to/finish_ch_23_problem_set/by/today_6_pm\", // 9-19\n  \"dreev.promises.to/intern_disc/by/wed\", // 9-19, done\n  \"kim.promises.to/email_argue_summary/by/fri\", // 9-19\n  \"dreev.commits.to/clear_bogus_commit_for_nick/by/5_minutes_from_now\", // 9-19, done\n  \"kim.promises.to/reflect_Respond_anxiety_spiral_Assist/by/sat\", // 9-19\n  \"dreev.commits.to/schedule-k_tax_thing/by/5pm\", // 9-19, done\n  \"dreev.promises.to/set_up_mom_on_wordfeud/by/tomorrow\", // 9-20, done/void\n  \"dreev.promises.to/reply_to_use_case_email/by/midnight\", // 9-20, done\n  \"kim.promises.to/consider_all_weekend_social_options/by/fri/10pm\", // 9-20\n  \"kim.promises.to/submit_conclusion_email/by/10/16\", // 9-21\n  \"kim.promises.to/complete_type_1_essay/by/10/1\", // 9-21\n  \"kim.promises.to/inform_eve_plans/by/2\", // 9-21\n  \"kim.promises.to/email_cynthia_charlap_tickets/by/9/22\", // 9-21\n  \"kim.promises.to/schedule_attorney_meet/by/10/1\", // 9-21\n  \"kim.promises.to/john_PAM_photos_ask/by/10/1\", // 9-21\n  \"kim.promises.to/Nike_p5_email/by/10/1\", // 9-21\n  \"kim.promises.to/intro_martin_marna/by/10/5\", // 9-21\n  \"kim.promises.to/sbonomic_jitsjudgelist_doc/by/10/15\", // 9-21\n  \"kim.promises.to/consider_all_weekend_social_options/by/fri/10pm\", // 9-21\n  \"dreev.commits.to/dedup_the_iwills/by/nov\", // 9-22\n  \"byorgey.promises.to/email_cut_property_summary/by/7pm\", // 9-22\n  \"dreev.commits.to/copy_editing_pass_on_tao2/by/tmw_2pm\", // 9-22, done\n  \"chris.promises.to/open_a_smoothie_shop/by/December\", // 9-25\n  \"pierre.promises.to/water_the_office_plant/by/Friday\", // 9-25\n  \"dreev.promises.to/hanna_reply/by/tonight\", // 9-26, done\n  \"bee.promises.to/read-hannas-emails\", // 9-26, done\n  \"bee.promises.to/reping-one-with-heart\", // 9-26\n  \"bee.promises.to/fill-out-metromile-feedback\", // 9-26\n  \"bee.promises.to/schedule-planning-with-cantor/by/friday-night\", // 9-26, done\n  \"dreev.promises.to/ask_jana_about_blood_testers/by/dec_1\", // 9-26\n  \"dreev.commits.to/take_copyediting_pass_on_micheles_draft/by/saturday\", // 9/27,\n  \"stephen.promises.to/decide_upon_late_october_trip/by/saturday\", // 9-27\n  \"roy.promises.to/sign_up_for_app\", // 9-27\n  \"jennyli.promises.to/water_the_plants/by/sunday\", // 9-27\n  \"owen.promises.to/adjust-the-shed/by/tonight_7pm\", // 9-28\n  \"cole.promises.to/find_a_rep_for_dining_vendors\", // 9-28\n  \"chris.promises.to/learn-more-about-glitch/by/monday\", // 9-28\n  \"chris.promises.to/learn-more-about-something-else/by/monday\", // 9-28\n  \"dreev.promises.to/add_chelsea_to_commits_to/by/11am\", // 9-29, done\n  \"bee.commits.to/put-away-camping-gear-this-weekend\", // 9-29\n  \"owen.promises.to/research_and_pseudocode_calendar_integration/by/oct_6\", // 9-29\n  \"caillu.commits.to/test_trying_out_time/by/2017-09-30_20:42\", // 9-30\n  \n]\n"
      ]
    },
    "mtime": 1506883406151
  },
  "{\"filename\":\"/app/lib/latepenalty.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/lib\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "credit",
            "t"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "credit",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "t",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/lib/latepenalty.js",
      "filenameRelative": "/app/lib/latepenalty.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "latepenalty.js",
      "sourceFileName": "latepenalty.js",
      "sourceRoot": "/app/lib",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/lib",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "latepenalty"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = credit;\n// --------------------------------- 80chars ---------------------------------->\n\n/* The main function here is credit(t) which computes the fraction of full \ncredit you get for being t seconds late. It's roughly a continuous version of\nthe following:\n  credit(t) = 1    if t<60s  # seconds late (no or almost no penalty)\n  credit(t) = .999 if t<1h   # minutes late (baaaasically counts)\n  credit(t) = .99  if t<1d   # hours late   (no big deal, almost fully counts)\n  credit(t) = .9   if t<1w   # days late    (main thing is it's done)\n  credit(t) = .5   if t<1mo  # weeks late   (half counts if this late)\n  credit(t) = .1   if t<1y   # months late  (mostly doesn't count)\n  credit(t) = .01  if t<10y  # years late   (better late than never, barely)\n  credit(t) = 0    otherwise # decades late (zero or essentially zero credit)\n*/\n\nvar SIH = 3600; // seconds in hour\nvar SID = 86400; // seconds in day\nvar SIW = SID * 7; // seconds in week\nvar DIY = 365.25; // days in year\nvar SIM = SID * DIY / 12; // seconds in month\nvar SIY = SID * DIY; // seconds in year\n\n// Linearly interpolate to return u when x=a and v when x=b (NOT CURRENTLY USED)\nfunction lscale(x, a, b, u, v) {\n  return (b * u - a * v + (v - u) * x) / (b - a);\n}\n\n// Exponentially interpolate to return u when x=a and v when x=b\nfunction escale(x, a, b, u, v) {\n  return u * Math.pow(u / v, a / (b - a)) * Math.exp(Math.log(v / u) / (b - a) * x);\n}\n\n// Do an h-interpolation to return u when x=a and v when x=b. \n// Special cases: h=-1 is linear, h=0 is exponential, h=1 is hyperbolic.\nfunction hscale(h, x, a, b, u, v) {\n  if (h === 0) {\n    return escale(x, a, b, u, v);\n  }\n  var r = (Math.pow(v / u, -h) - 1) / h / (a - b);\n  return u * Math.pow(1 - h * r * (x - a), -1 / h);\n}\n\n// Compute the credit you get for being t seconds late\nfunction credit(t) {\n  var h = 8;\n  if (t <= 0) {\n    return 1;\n  } // maybe <=59s late should still be 1 (no penalty)?\n  else if (t < SIH) {\n      return hscale(h, t, 0, SIH, 1, .999);\n    } else if (t < SID) {\n      return hscale(h, t, SIH, SID, .999, .99);\n    } else if (t < SIW) {\n      return hscale(h, t, SID, SIW, .99, .9);\n    } else if (t < SIM) {\n      return hscale(h, t, SIW, SIM, .9, .5);\n    } else if (t < SIY) {\n      return hscale(h, t, SIM, SIY, .5, .1);\n    } else {\n      return hscale(h, t, SIY, 10 * SIY, .1, .01);\n    }\n}\n\n/* \nAn alternative simple late penalty function I've used before in another context \nis 1-(t/(86400*7))^4 which gives you a couple days of very little penalty and\nthen your credit plummets till you get 0 credit for being more than a week late.\n*/\n\n// --------------------------------- 80chars ---------------------------------->\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhdGVwZW5hbHR5LmpzIl0sIm5hbWVzIjpbImNyZWRpdCIsIlNJSCIsIlNJRCIsIlNJVyIsIkRJWSIsIlNJTSIsIlNJWSIsImxzY2FsZSIsIngiLCJhIiwiYiIsInUiLCJ2IiwiZXNjYWxlIiwiTWF0aCIsInBvdyIsImV4cCIsImxvZyIsImhzY2FsZSIsImgiLCJyIiwidCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBdUN3QkEsTTtBQXZDeEI7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUFhQSxJQUFNQyxNQUFNLElBQVosQyxDQUF3QjtBQUN4QixJQUFNQyxNQUFNLEtBQVosQyxDQUF3QjtBQUN4QixJQUFNQyxNQUFNRCxNQUFJLENBQWhCLEMsQ0FBd0I7QUFDeEIsSUFBTUUsTUFBTSxNQUFaLEMsQ0FBd0I7QUFDeEIsSUFBTUMsTUFBTUgsTUFBSUUsR0FBSixHQUFRLEVBQXBCLEMsQ0FBd0I7QUFDeEIsSUFBTUUsTUFBTUosTUFBSUUsR0FBaEIsQyxDQUF3Qjs7QUFFeEI7QUFDQSxTQUFTRyxNQUFULENBQWdCQyxDQUFoQixFQUFtQkMsQ0FBbkIsRUFBc0JDLENBQXRCLEVBQXlCQyxDQUF6QixFQUE0QkMsQ0FBNUIsRUFBK0I7QUFBRSxTQUFPLENBQUNGLElBQUVDLENBQUYsR0FBTUYsSUFBRUcsQ0FBUixHQUFZLENBQUNBLElBQUVELENBQUgsSUFBTUgsQ0FBbkIsS0FBdUJFLElBQUVELENBQXpCLENBQVA7QUFBb0M7O0FBRXJFO0FBQ0EsU0FBU0ksTUFBVCxDQUFnQkwsQ0FBaEIsRUFBbUJDLENBQW5CLEVBQXNCQyxDQUF0QixFQUF5QkMsQ0FBekIsRUFBNEJDLENBQTVCLEVBQStCO0FBQzdCLFNBQU9ELElBQUVHLEtBQUtDLEdBQUwsQ0FBU0osSUFBRUMsQ0FBWCxFQUFjSCxLQUFHQyxJQUFFRCxDQUFMLENBQWQsQ0FBRixHQUF5QkssS0FBS0UsR0FBTCxDQUFTRixLQUFLRyxHQUFMLENBQVNMLElBQUVELENBQVgsS0FBZUQsSUFBRUQsQ0FBakIsSUFBb0JELENBQTdCLENBQWhDO0FBQ0Q7O0FBRUQ7QUFDQTtBQUNBLFNBQVNVLE1BQVQsQ0FBZ0JDLENBQWhCLEVBQW1CWCxDQUFuQixFQUFzQkMsQ0FBdEIsRUFBeUJDLENBQXpCLEVBQTRCQyxDQUE1QixFQUErQkMsQ0FBL0IsRUFBa0M7QUFDaEMsTUFBSU8sTUFBTSxDQUFWLEVBQWE7QUFBRSxXQUFPTixPQUFPTCxDQUFQLEVBQVVDLENBQVYsRUFBYUMsQ0FBYixFQUFnQkMsQ0FBaEIsRUFBbUJDLENBQW5CLENBQVA7QUFBOEI7QUFDN0MsTUFBSVEsSUFBSSxDQUFDTixLQUFLQyxHQUFMLENBQVNILElBQUVELENBQVgsRUFBYyxDQUFDUSxDQUFmLElBQWtCLENBQW5CLElBQXNCQSxDQUF0QixJQUF5QlYsSUFBRUMsQ0FBM0IsQ0FBUjtBQUNBLFNBQU9DLElBQUVHLEtBQUtDLEdBQUwsQ0FBUyxJQUFFSSxJQUFFQyxDQUFGLElBQUtaLElBQUlDLENBQVQsQ0FBWCxFQUF3QixDQUFDLENBQUQsR0FBR1UsQ0FBM0IsQ0FBVDtBQUNEOztBQUVEO0FBQ2UsU0FBU25CLE1BQVQsQ0FBZ0JxQixDQUFoQixFQUFtQjtBQUNoQyxNQUFJRixJQUFJLENBQVI7QUFDQSxNQUFJRSxLQUFLLENBQVQsRUFBWTtBQUFFLFdBQU8sQ0FBUDtBQUFVLEdBQXhCLENBQXlCO0FBQXpCLE9BQ0ssSUFBSUEsSUFBSXBCLEdBQVIsRUFBYTtBQUFFLGFBQU9pQixPQUFPQyxDQUFQLEVBQVVFLENBQVYsRUFBYSxDQUFiLEVBQWtCcEIsR0FBbEIsRUFBMEIsQ0FBMUIsRUFBZ0MsSUFBaEMsQ0FBUDtBQUE4QyxLQUE3RCxNQUNBLElBQUlvQixJQUFJbkIsR0FBUixFQUFhO0FBQUUsYUFBT2dCLE9BQU9DLENBQVAsRUFBVUUsQ0FBVixFQUFhcEIsR0FBYixFQUFrQkMsR0FBbEIsRUFBMEIsSUFBMUIsRUFBZ0MsR0FBaEMsQ0FBUDtBQUE4QyxLQUE3RCxNQUNBLElBQUltQixJQUFJbEIsR0FBUixFQUFhO0FBQUUsYUFBT2UsT0FBT0MsQ0FBUCxFQUFVRSxDQUFWLEVBQWFuQixHQUFiLEVBQWtCQyxHQUFsQixFQUEwQixHQUExQixFQUFnQyxFQUFoQyxDQUFQO0FBQThDLEtBQTdELE1BQ0EsSUFBSWtCLElBQUloQixHQUFSLEVBQWE7QUFBRSxhQUFPYSxPQUFPQyxDQUFQLEVBQVVFLENBQVYsRUFBYWxCLEdBQWIsRUFBa0JFLEdBQWxCLEVBQTBCLEVBQTFCLEVBQWdDLEVBQWhDLENBQVA7QUFBOEMsS0FBN0QsTUFDQSxJQUFJZ0IsSUFBSWYsR0FBUixFQUFhO0FBQUUsYUFBT1ksT0FBT0MsQ0FBUCxFQUFVRSxDQUFWLEVBQWFoQixHQUFiLEVBQWtCQyxHQUFsQixFQUEwQixFQUExQixFQUFnQyxFQUFoQyxDQUFQO0FBQThDLEtBQTdELE1BQ2E7QUFBRSxhQUFPWSxPQUFPQyxDQUFQLEVBQVVFLENBQVYsRUFBYWYsR0FBYixFQUFrQixLQUFHQSxHQUFyQixFQUEwQixFQUExQixFQUFnQyxHQUFoQyxDQUFQO0FBQThDO0FBQ25FOztBQUVEOzs7Ozs7QUFNQSIsImZpbGUiOiJsYXRlcGVuYWx0eS5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2xpYiIsInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSA4MGNoYXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XG5cbi8qIFRoZSBtYWluIGZ1bmN0aW9uIGhlcmUgaXMgY3JlZGl0KHQpIHdoaWNoIGNvbXB1dGVzIHRoZSBmcmFjdGlvbiBvZiBmdWxsIFxuY3JlZGl0IHlvdSBnZXQgZm9yIGJlaW5nIHQgc2Vjb25kcyBsYXRlLiBJdCdzIHJvdWdobHkgYSBjb250aW51b3VzIHZlcnNpb24gb2ZcbnRoZSBmb2xsb3dpbmc6XG4gIGNyZWRpdCh0KSA9IDEgICAgaWYgdDw2MHMgICMgc2Vjb25kcyBsYXRlIChubyBvciBhbG1vc3Qgbm8gcGVuYWx0eSlcbiAgY3JlZGl0KHQpID0gLjk5OSBpZiB0PDFoICAgIyBtaW51dGVzIGxhdGUgKGJhYWFhc2ljYWxseSBjb3VudHMpXG4gIGNyZWRpdCh0KSA9IC45OSAgaWYgdDwxZCAgICMgaG91cnMgbGF0ZSAgIChubyBiaWcgZGVhbCwgYWxtb3N0IGZ1bGx5IGNvdW50cylcbiAgY3JlZGl0KHQpID0gLjkgICBpZiB0PDF3ICAgIyBkYXlzIGxhdGUgICAgKG1haW4gdGhpbmcgaXMgaXQncyBkb25lKVxuICBjcmVkaXQodCkgPSAuNSAgIGlmIHQ8MW1vICAjIHdlZWtzIGxhdGUgICAoaGFsZiBjb3VudHMgaWYgdGhpcyBsYXRlKVxuICBjcmVkaXQodCkgPSAuMSAgIGlmIHQ8MXkgICAjIG1vbnRocyBsYXRlICAobW9zdGx5IGRvZXNuJ3QgY291bnQpXG4gIGNyZWRpdCh0KSA9IC4wMSAgaWYgdDwxMHkgICMgeWVhcnMgbGF0ZSAgIChiZXR0ZXIgbGF0ZSB0aGFuIG5ldmVyLCBiYXJlbHkpXG4gIGNyZWRpdCh0KSA9IDAgICAgb3RoZXJ3aXNlICMgZGVjYWRlcyBsYXRlICh6ZXJvIG9yIGVzc2VudGlhbGx5IHplcm8gY3JlZGl0KVxuKi9cblxuY29uc3QgU0lIID0gMzYwMCAgICAgICAgLy8gc2Vjb25kcyBpbiBob3VyXG5jb25zdCBTSUQgPSA4NjQwMCAgICAgICAvLyBzZWNvbmRzIGluIGRheVxuY29uc3QgU0lXID0gU0lEKjcgICAgICAgLy8gc2Vjb25kcyBpbiB3ZWVrXG5jb25zdCBESVkgPSAzNjUuMjUgICAgICAvLyBkYXlzIGluIHllYXJcbmNvbnN0IFNJTSA9IFNJRCpESVkvMTIgIC8vIHNlY29uZHMgaW4gbW9udGhcbmNvbnN0IFNJWSA9IFNJRCpESVkgICAgIC8vIHNlY29uZHMgaW4geWVhclxuXG4vLyBMaW5lYXJseSBpbnRlcnBvbGF0ZSB0byByZXR1cm4gdSB3aGVuIHg9YSBhbmQgdiB3aGVuIHg9YiAoTk9UIENVUlJFTlRMWSBVU0VEKVxuZnVuY3Rpb24gbHNjYWxlKHgsIGEsIGIsIHUsIHYpIHsgcmV0dXJuIChiKnUgLSBhKnYgKyAodi11KSp4KS8oYi1hKSB9XG5cbi8vIEV4cG9uZW50aWFsbHkgaW50ZXJwb2xhdGUgdG8gcmV0dXJuIHUgd2hlbiB4PWEgYW5kIHYgd2hlbiB4PWJcbmZ1bmN0aW9uIGVzY2FsZSh4LCBhLCBiLCB1LCB2KSB7XG4gIHJldHVybiB1Kk1hdGgucG93KHUvdiwgYS8oYi1hKSkqTWF0aC5leHAoTWF0aC5sb2codi91KS8oYi1hKSp4KVxufVxuXG4vLyBEbyBhbiBoLWludGVycG9sYXRpb24gdG8gcmV0dXJuIHUgd2hlbiB4PWEgYW5kIHYgd2hlbiB4PWIuIFxuLy8gU3BlY2lhbCBjYXNlczogaD0tMSBpcyBsaW5lYXIsIGg9MCBpcyBleHBvbmVudGlhbCwgaD0xIGlzIGh5cGVyYm9saWMuXG5mdW5jdGlvbiBoc2NhbGUoaCwgeCwgYSwgYiwgdSwgdikge1xuICBpZiAoaCA9PT0gMCkgeyByZXR1cm4gZXNjYWxlKHgsIGEsIGIsIHUsIHYpIH1cbiAgbGV0IHIgPSAoTWF0aC5wb3codi91LCAtaCktMSkvaC8oYS1iKVxuICByZXR1cm4gdSpNYXRoLnBvdygxLWgqciooeCAtIGEpLCAtMS9oKVxufVxuXG4vLyBDb21wdXRlIHRoZSBjcmVkaXQgeW91IGdldCBmb3IgYmVpbmcgdCBzZWNvbmRzIGxhdGVcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWRpdCh0KSB7XG4gIGxldCBoID0gOFxuICBpZiAodCA8PSAwKSB7IHJldHVybiAxIH0gLy8gbWF5YmUgPD01OXMgbGF0ZSBzaG91bGQgc3RpbGwgYmUgMSAobm8gcGVuYWx0eSk/XG4gIGVsc2UgaWYgKHQgPCBTSUgpIHsgcmV0dXJuIGhzY2FsZShoLCB0LCAwLCAgIFNJSCwgICAgMSwgICAgLjk5OSkgfVxuICBlbHNlIGlmICh0IDwgU0lEKSB7IHJldHVybiBoc2NhbGUoaCwgdCwgU0lILCBTSUQsICAgIC45OTksIC45OSkgIH1cbiAgZWxzZSBpZiAodCA8IFNJVykgeyByZXR1cm4gaHNjYWxlKGgsIHQsIFNJRCwgU0lXLCAgICAuOTksICAuOSkgICB9XG4gIGVsc2UgaWYgKHQgPCBTSU0pIHsgcmV0dXJuIGhzY2FsZShoLCB0LCBTSVcsIFNJTSwgICAgLjksICAgLjUpICAgfVxuICBlbHNlIGlmICh0IDwgU0lZKSB7IHJldHVybiBoc2NhbGUoaCwgdCwgU0lNLCBTSVksICAgIC41LCAgIC4xKSAgIH1cbiAgZWxzZSAgICAgICAgICAgICAgeyByZXR1cm4gaHNjYWxlKGgsIHQsIFNJWSwgMTAqU0lZLCAuMSwgICAuMDEpICB9XG59XG5cbi8qIFxuQW4gYWx0ZXJuYXRpdmUgc2ltcGxlIGxhdGUgcGVuYWx0eSBmdW5jdGlvbiBJJ3ZlIHVzZWQgYmVmb3JlIGluIGFub3RoZXIgY29udGV4dCBcbmlzIDEtKHQvKDg2NDAwKjcpKV40IHdoaWNoIGdpdmVzIHlvdSBhIGNvdXBsZSBkYXlzIG9mIHZlcnkgbGl0dGxlIHBlbmFsdHkgYW5kXG50aGVuIHlvdXIgY3JlZGl0IHBsdW1tZXRzIHRpbGwgeW91IGdldCAwIGNyZWRpdCBmb3IgYmVpbmcgbW9yZSB0aGFuIGEgd2VlayBsYXRlLlxuKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIDgwY2hhcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "latepenalty.js"
      ],
      "names": [
        "credit",
        "SIH",
        "SID",
        "SIW",
        "DIY",
        "SIM",
        "SIY",
        "lscale",
        "x",
        "a",
        "b",
        "u",
        "v",
        "escale",
        "Math",
        "pow",
        "exp",
        "log",
        "hscale",
        "h",
        "r",
        "t"
      ],
      "mappings": "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",
      "file": "latepenalty.js",
      "sourceRoot": "/app/lib",
      "sourcesContent": [
        "// --------------------------------- 80chars ---------------------------------->\n\n/* The main function here is credit(t) which computes the fraction of full \ncredit you get for being t seconds late. It's roughly a continuous version of\nthe following:\n  credit(t) = 1    if t<60s  # seconds late (no or almost no penalty)\n  credit(t) = .999 if t<1h   # minutes late (baaaasically counts)\n  credit(t) = .99  if t<1d   # hours late   (no big deal, almost fully counts)\n  credit(t) = .9   if t<1w   # days late    (main thing is it's done)\n  credit(t) = .5   if t<1mo  # weeks late   (half counts if this late)\n  credit(t) = .1   if t<1y   # months late  (mostly doesn't count)\n  credit(t) = .01  if t<10y  # years late   (better late than never, barely)\n  credit(t) = 0    otherwise # decades late (zero or essentially zero credit)\n*/\n\nconst SIH = 3600        // seconds in hour\nconst SID = 86400       // seconds in day\nconst SIW = SID*7       // seconds in week\nconst DIY = 365.25      // days in year\nconst SIM = SID*DIY/12  // seconds in month\nconst SIY = SID*DIY     // seconds in year\n\n// Linearly interpolate to return u when x=a and v when x=b (NOT CURRENTLY USED)\nfunction lscale(x, a, b, u, v) { return (b*u - a*v + (v-u)*x)/(b-a) }\n\n// Exponentially interpolate to return u when x=a and v when x=b\nfunction escale(x, a, b, u, v) {\n  return u*Math.pow(u/v, a/(b-a))*Math.exp(Math.log(v/u)/(b-a)*x)\n}\n\n// Do an h-interpolation to return u when x=a and v when x=b. \n// Special cases: h=-1 is linear, h=0 is exponential, h=1 is hyperbolic.\nfunction hscale(h, x, a, b, u, v) {\n  if (h === 0) { return escale(x, a, b, u, v) }\n  let r = (Math.pow(v/u, -h)-1)/h/(a-b)\n  return u*Math.pow(1-h*r*(x - a), -1/h)\n}\n\n// Compute the credit you get for being t seconds late\nexport default function credit(t) {\n  let h = 8\n  if (t <= 0) { return 1 } // maybe <=59s late should still be 1 (no penalty)?\n  else if (t < SIH) { return hscale(h, t, 0,   SIH,    1,    .999) }\n  else if (t < SID) { return hscale(h, t, SIH, SID,    .999, .99)  }\n  else if (t < SIW) { return hscale(h, t, SID, SIW,    .99,  .9)   }\n  else if (t < SIM) { return hscale(h, t, SIW, SIM,    .9,   .5)   }\n  else if (t < SIY) { return hscale(h, t, SIM, SIY,    .5,   .1)   }\n  else              { return hscale(h, t, SIY, 10*SIY, .1,   .01)  }\n}\n\n/* \nAn alternative simple late penalty function I've used before in another context \nis 1-(t/(86400*7))^4 which gives you a couple days of very little penalty and\nthen your credit plummets till you get 0 credit for being more than a week late.\n*/\n\n// --------------------------------- 80chars ---------------------------------->\n"
      ]
    },
    "mtime": 1506875526450
  },
  "{\"filename\":\"/app/lib/parse.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/lib\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "parsePromise",
            "urtx"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "parsePromise",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "urtx",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/lib/parse.js",
      "filenameRelative": "/app/lib/parse.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "parse.js",
      "sourceFileName": "parse.js",
      "sourceRoot": "/app/lib",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/lib",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "parse"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parsePromise;\n// Take urtext and return a promise data structure\nfunction parsePromise(urtx) {\n  console.log('DEBUG ' + urtx);\n  var m = urtx.match(/^([^\\.]+)\\.(promises|commits)\\.to\\/(.*)$/);\n  // TODO: handle the case that no user is given, just \"promises.to/foo\"\n  var user = m ? m[1] : '';\n  var domain = m ? m[2] : '';\n  var path = m ? m[3] : '';\n  var what = '';\n  var tdue = Date.now() + 7 * 24 * 60 * 60 * 1000;\n  if (path.length > 0) {\n    var parsedPath = path.match(/^(.*?)(\\/by\\/|$)(.*)$/);\n\n    what = replaceSeparatorWithSpaces(parsedPath[1]);\n\n    //tdue = parsedPath.length > 1 ? \n    //       chrono.parseDate(parsedPath[3].replace(/_/g, ' ')) * 1 : \n    //       Date.now() + 7*24*60*60*1000\n    //tdue = tdue ? ( ( tdue < Date.now() && Date.now() - tdue < 24*60*60*1000 ) ?\n    //                tdue + 24*60*60*1000 : tdue )\n    //            : Date.now() + 7*24*60*60*1000\n    tdue = parsedPath[3];\n  }\n  // TODO: path is now everything after \".promises.to\" so now parse out the \n  //       \"what\" (thing being promised) and the \"tdue\" (deadline)\n  console.log('parseProm', { user: user, path: path, domain: domain, what: what, tdue: tdue, urtx: urtx });\n  return { user: user, path: path, domain: domain, what: what, tdue: tdue, urtx: urtx, tini: Date.now() };\n}\n\nfunction replaceSeparatorWithSpaces(string) {\n  var dash_regex = new RegExp('-', 'g');\n  var underscore_regex = new RegExp('_', 'g');\n\n  try {\n    var dashes = string.match(dash_regex).length;\n  } catch (e) {\n    var dashes = 0;\n  }\n  try {\n    var underscores = string.match(underscore_regex).length;\n  } catch (e) {\n    var underscores = 0;\n  }\n\n  if (dashes > underscores) {\n    var separator = dash_regex;\n  } else if (underscores > dashes) {\n    var separator = underscore_regex;\n  } else {\n    return string;\n  }\n\n  return string.replace(separator, ' ');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlLmpzIl0sIm5hbWVzIjpbInBhcnNlUHJvbWlzZSIsInVydHgiLCJjb25zb2xlIiwibG9nIiwibSIsIm1hdGNoIiwidXNlciIsImRvbWFpbiIsInBhdGgiLCJ3aGF0IiwidGR1ZSIsIkRhdGUiLCJub3ciLCJsZW5ndGgiLCJwYXJzZWRQYXRoIiwicmVwbGFjZVNlcGFyYXRvcldpdGhTcGFjZXMiLCJ0aW5pIiwic3RyaW5nIiwiZGFzaF9yZWdleCIsIlJlZ0V4cCIsInVuZGVyc2NvcmVfcmVnZXgiLCJkYXNoZXMiLCJlIiwidW5kZXJzY29yZXMiLCJzZXBhcmF0b3IiLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFDd0JBLFk7QUFEeEI7QUFDZSxTQUFTQSxZQUFULENBQXNCQyxJQUF0QixFQUE0QjtBQUN6Q0MsVUFBUUMsR0FBUixZQUFxQkYsSUFBckI7QUFDQSxNQUFJRyxJQUFJSCxLQUFLSSxLQUFMLENBQVcsMENBQVgsQ0FBUjtBQUNBO0FBQ0EsTUFBSUMsT0FBT0YsSUFBSUEsRUFBRSxDQUFGLENBQUosR0FBVyxFQUF0QjtBQUNBLE1BQUlHLFNBQVNILElBQUlBLEVBQUUsQ0FBRixDQUFKLEdBQVcsRUFBeEI7QUFDQSxNQUFJSSxPQUFPSixJQUFJQSxFQUFFLENBQUYsQ0FBSixHQUFXLEVBQXRCO0FBQ0EsTUFBSUssT0FBTyxFQUFYO0FBQ0EsTUFBSUMsT0FBT0MsS0FBS0MsR0FBTCxLQUFhLElBQUUsRUFBRixHQUFLLEVBQUwsR0FBUSxFQUFSLEdBQVcsSUFBbkM7QUFDQSxNQUFJSixLQUFLSyxNQUFMLEdBQWMsQ0FBbEIsRUFBcUI7QUFDbkIsUUFBSUMsYUFBYU4sS0FBS0gsS0FBTCxDQUFXLHVCQUFYLENBQWpCOztBQUVBSSxXQUFPTSwyQkFBMkJELFdBQVcsQ0FBWCxDQUEzQixDQUFQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBSixXQUFPSSxXQUFXLENBQVgsQ0FBUDtBQUNEO0FBQ0Q7QUFDQTtBQUNBWixVQUFRQyxHQUFSLENBQVksV0FBWixFQUF5QixFQUFFRyxVQUFGLEVBQVFFLFVBQVIsRUFBY0QsY0FBZCxFQUFzQkUsVUFBdEIsRUFBNEJDLFVBQTVCLEVBQWtDVCxVQUFsQyxFQUF6QjtBQUNBLFNBQU8sRUFBRUssVUFBRixFQUFRRSxVQUFSLEVBQWNELGNBQWQsRUFBc0JFLFVBQXRCLEVBQTRCQyxVQUE1QixFQUFrQ1QsVUFBbEMsRUFBd0NlLE1BQU1MLEtBQUtDLEdBQUwsRUFBOUMsRUFBUDtBQUNEOztBQUVELFNBQVNHLDBCQUFULENBQW9DRSxNQUFwQyxFQUE0QztBQUMxQyxNQUFJQyxhQUFhLElBQUlDLE1BQUosQ0FBVyxHQUFYLEVBQWdCLEdBQWhCLENBQWpCO0FBQ0EsTUFBSUMsbUJBQW1CLElBQUlELE1BQUosQ0FBVyxHQUFYLEVBQWdCLEdBQWhCLENBQXZCOztBQUVBLE1BQUk7QUFDRixRQUFJRSxTQUFTSixPQUFPWixLQUFQLENBQWFhLFVBQWIsRUFBeUJMLE1BQXRDO0FBQ0QsR0FGRCxDQUVFLE9BQU9TLENBQVAsRUFBVTtBQUNWLFFBQUlELFNBQVMsQ0FBYjtBQUNEO0FBQ0QsTUFBSTtBQUNGLFFBQUlFLGNBQWNOLE9BQU9aLEtBQVAsQ0FBYWUsZ0JBQWIsRUFBK0JQLE1BQWpEO0FBQ0QsR0FGRCxDQUVFLE9BQU9TLENBQVAsRUFBVTtBQUNWLFFBQUlDLGNBQWMsQ0FBbEI7QUFDRDs7QUFFRCxNQUFJRixTQUFTRSxXQUFiLEVBQTBCO0FBQ3hCLFFBQUlDLFlBQVlOLFVBQWhCO0FBQ0QsR0FGRCxNQUVPLElBQUlLLGNBQWNGLE1BQWxCLEVBQTBCO0FBQy9CLFFBQUlHLFlBQVlKLGdCQUFoQjtBQUNELEdBRk0sTUFFQTtBQUNMLFdBQU9ILE1BQVA7QUFDRDs7QUFFRCxTQUFPQSxPQUFPUSxPQUFQLENBQWVELFNBQWYsRUFBMEIsR0FBMUIsQ0FBUDtBQUNEIiwiZmlsZSI6InBhcnNlLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvbGliIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGFrZSB1cnRleHQgYW5kIHJldHVybiBhIHByb21pc2UgZGF0YSBzdHJ1Y3R1cmVcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvbWlzZSh1cnR4KSB7XG4gIGNvbnNvbGUubG9nKGBERUJVRyAke3VydHh9YClcbiAgbGV0IG0gPSB1cnR4Lm1hdGNoKC9eKFteXFwuXSspXFwuKHByb21pc2VzfGNvbW1pdHMpXFwudG9cXC8oLiopJC8pXG4gIC8vIFRPRE86IGhhbmRsZSB0aGUgY2FzZSB0aGF0IG5vIHVzZXIgaXMgZ2l2ZW4sIGp1c3QgXCJwcm9taXNlcy50by9mb29cIlxuICBsZXQgdXNlciA9IG0gPyBtWzFdIDogJydcbiAgbGV0IGRvbWFpbiA9IG0gPyBtWzJdIDogJydcbiAgbGV0IHBhdGggPSBtID8gbVszXSA6ICcnXG4gIGxldCB3aGF0ID0gJydcbiAgbGV0IHRkdWUgPSBEYXRlLm5vdygpICsgNyoyNCo2MCo2MCoxMDAwXG4gIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICBsZXQgcGFyc2VkUGF0aCA9IHBhdGgubWF0Y2goL14oLio/KShcXC9ieVxcL3wkKSguKikkLylcbiAgICBcbiAgICB3aGF0ID0gcmVwbGFjZVNlcGFyYXRvcldpdGhTcGFjZXMocGFyc2VkUGF0aFsxXSkgICAgXG4gICAgXG4gICAgLy90ZHVlID0gcGFyc2VkUGF0aC5sZW5ndGggPiAxID8gXG4gICAgLy8gICAgICAgY2hyb25vLnBhcnNlRGF0ZShwYXJzZWRQYXRoWzNdLnJlcGxhY2UoL18vZywgJyAnKSkgKiAxIDogXG4gICAgLy8gICAgICAgRGF0ZS5ub3coKSArIDcqMjQqNjAqNjAqMTAwMFxuICAgIC8vdGR1ZSA9IHRkdWUgPyAoICggdGR1ZSA8IERhdGUubm93KCkgJiYgRGF0ZS5ub3coKSAtIHRkdWUgPCAyNCo2MCo2MCoxMDAwICkgP1xuICAgIC8vICAgICAgICAgICAgICAgIHRkdWUgKyAyNCo2MCo2MCoxMDAwIDogdGR1ZSApXG4gICAgLy8gICAgICAgICAgICA6IERhdGUubm93KCkgKyA3KjI0KjYwKjYwKjEwMDBcbiAgICB0ZHVlID0gcGFyc2VkUGF0aFszXVxuICB9XG4gIC8vIFRPRE86IHBhdGggaXMgbm93IGV2ZXJ5dGhpbmcgYWZ0ZXIgXCIucHJvbWlzZXMudG9cIiBzbyBub3cgcGFyc2Ugb3V0IHRoZSBcbiAgLy8gICAgICAgXCJ3aGF0XCIgKHRoaW5nIGJlaW5nIHByb21pc2VkKSBhbmQgdGhlIFwidGR1ZVwiIChkZWFkbGluZSlcbiAgY29uc29sZS5sb2coJ3BhcnNlUHJvbScsIHsgdXNlciwgcGF0aCwgZG9tYWluLCB3aGF0LCB0ZHVlLCB1cnR4IH0pXG4gIHJldHVybiB7IHVzZXIsIHBhdGgsIGRvbWFpbiwgd2hhdCwgdGR1ZSwgdXJ0eCwgdGluaTogRGF0ZS5ub3coKSB9XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VTZXBhcmF0b3JXaXRoU3BhY2VzKHN0cmluZykge1xuICB2YXIgZGFzaF9yZWdleCA9IG5ldyBSZWdFeHAoJy0nLCAnZycpO1xuICB2YXIgdW5kZXJzY29yZV9yZWdleCA9IG5ldyBSZWdFeHAoJ18nLCAnZycpO1xuICBcbiAgdHJ5IHtcbiAgICB2YXIgZGFzaGVzID0gc3RyaW5nLm1hdGNoKGRhc2hfcmVnZXgpLmxlbmd0aDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciBkYXNoZXMgPSAwO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHVuZGVyc2NvcmVzID0gc3RyaW5nLm1hdGNoKHVuZGVyc2NvcmVfcmVnZXgpLmxlbmd0aDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciB1bmRlcnNjb3JlcyA9IDA7XG4gIH1cblxuICBpZiAoZGFzaGVzID4gdW5kZXJzY29yZXMpIHtcbiAgICB2YXIgc2VwYXJhdG9yID0gZGFzaF9yZWdleDtcbiAgfSBlbHNlIGlmICh1bmRlcnNjb3JlcyA+IGRhc2hlcykge1xuICAgIHZhciBzZXBhcmF0b3IgPSB1bmRlcnNjb3JlX3JlZ2V4O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cblxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2Uoc2VwYXJhdG9yLCAnICcpO1xufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "parse.js"
      ],
      "names": [
        "parsePromise",
        "urtx",
        "console",
        "log",
        "m",
        "match",
        "user",
        "domain",
        "path",
        "what",
        "tdue",
        "Date",
        "now",
        "length",
        "parsedPath",
        "replaceSeparatorWithSpaces",
        "tini",
        "string",
        "dash_regex",
        "RegExp",
        "underscore_regex",
        "dashes",
        "e",
        "underscores",
        "separator",
        "replace"
      ],
      "mappings": ";;;;;kBACwBA,Y;AADxB;AACe,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AACzCC,UAAQC,GAAR,YAAqBF,IAArB;AACA,MAAIG,IAAIH,KAAKI,KAAL,CAAW,0CAAX,CAAR;AACA;AACA,MAAIC,OAAOF,IAAIA,EAAE,CAAF,CAAJ,GAAW,EAAtB;AACA,MAAIG,SAASH,IAAIA,EAAE,CAAF,CAAJ,GAAW,EAAxB;AACA,MAAII,OAAOJ,IAAIA,EAAE,CAAF,CAAJ,GAAW,EAAtB;AACA,MAAIK,OAAO,EAAX;AACA,MAAIC,OAAOC,KAAKC,GAAL,KAAa,IAAE,EAAF,GAAK,EAAL,GAAQ,EAAR,GAAW,IAAnC;AACA,MAAIJ,KAAKK,MAAL,GAAc,CAAlB,EAAqB;AACnB,QAAIC,aAAaN,KAAKH,KAAL,CAAW,uBAAX,CAAjB;;AAEAI,WAAOM,2BAA2BD,WAAW,CAAX,CAA3B,CAAP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACAJ,WAAOI,WAAW,CAAX,CAAP;AACD;AACD;AACA;AACAZ,UAAQC,GAAR,CAAY,WAAZ,EAAyB,EAAEG,UAAF,EAAQE,UAAR,EAAcD,cAAd,EAAsBE,UAAtB,EAA4BC,UAA5B,EAAkCT,UAAlC,EAAzB;AACA,SAAO,EAAEK,UAAF,EAAQE,UAAR,EAAcD,cAAd,EAAsBE,UAAtB,EAA4BC,UAA5B,EAAkCT,UAAlC,EAAwCe,MAAML,KAAKC,GAAL,EAA9C,EAAP;AACD;;AAED,SAASG,0BAAT,CAAoCE,MAApC,EAA4C;AAC1C,MAAIC,aAAa,IAAIC,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAjB;AACA,MAAIC,mBAAmB,IAAID,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAvB;;AAEA,MAAI;AACF,QAAIE,SAASJ,OAAOZ,KAAP,CAAaa,UAAb,EAAyBL,MAAtC;AACD,GAFD,CAEE,OAAOS,CAAP,EAAU;AACV,QAAID,SAAS,CAAb;AACD;AACD,MAAI;AACF,QAAIE,cAAcN,OAAOZ,KAAP,CAAae,gBAAb,EAA+BP,MAAjD;AACD,GAFD,CAEE,OAAOS,CAAP,EAAU;AACV,QAAIC,cAAc,CAAlB;AACD;;AAED,MAAIF,SAASE,WAAb,EAA0B;AACxB,QAAIC,YAAYN,UAAhB;AACD,GAFD,MAEO,IAAIK,cAAcF,MAAlB,EAA0B;AAC/B,QAAIG,YAAYJ,gBAAhB;AACD,GAFM,MAEA;AACL,WAAOH,MAAP;AACD;;AAED,SAAOA,OAAOQ,OAAP,CAAeD,SAAf,EAA0B,GAA1B,CAAP;AACD",
      "file": "parse.js",
      "sourceRoot": "/app/lib",
      "sourcesContent": [
        "// Take urtext and return a promise data structure\nexport default function parsePromise(urtx) {\n  console.log(`DEBUG ${urtx}`)\n  let m = urtx.match(/^([^\\.]+)\\.(promises|commits)\\.to\\/(.*)$/)\n  // TODO: handle the case that no user is given, just \"promises.to/foo\"\n  let user = m ? m[1] : ''\n  let domain = m ? m[2] : ''\n  let path = m ? m[3] : ''\n  let what = ''\n  let tdue = Date.now() + 7*24*60*60*1000\n  if (path.length > 0) {\n    let parsedPath = path.match(/^(.*?)(\\/by\\/|$)(.*)$/)\n    \n    what = replaceSeparatorWithSpaces(parsedPath[1])    \n    \n    //tdue = parsedPath.length > 1 ? \n    //       chrono.parseDate(parsedPath[3].replace(/_/g, ' ')) * 1 : \n    //       Date.now() + 7*24*60*60*1000\n    //tdue = tdue ? ( ( tdue < Date.now() && Date.now() - tdue < 24*60*60*1000 ) ?\n    //                tdue + 24*60*60*1000 : tdue )\n    //            : Date.now() + 7*24*60*60*1000\n    tdue = parsedPath[3]\n  }\n  // TODO: path is now everything after \".promises.to\" so now parse out the \n  //       \"what\" (thing being promised) and the \"tdue\" (deadline)\n  console.log('parseProm', { user, path, domain, what, tdue, urtx })\n  return { user, path, domain, what, tdue, urtx, tini: Date.now() }\n}\n\nfunction replaceSeparatorWithSpaces(string) {\n  var dash_regex = new RegExp('-', 'g');\n  var underscore_regex = new RegExp('_', 'g');\n  \n  try {\n    var dashes = string.match(dash_regex).length;\n  } catch (e) {\n    var dashes = 0;\n  }\n  try {\n    var underscores = string.match(underscore_regex).length;\n  } catch (e) {\n    var underscores = 0;\n  }\n\n  if (dashes > underscores) {\n    var separator = dash_regex;\n  } else if (underscores > dashes) {\n    var separator = underscore_regex;\n  } else {\n    return string;\n  }\n\n  return string.replace(separator, ' ');\n}"
      ]
    },
    "mtime": 1506875526470
  },
  "{\"filename\":\"/app/lib/middleware.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/lib\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./mail.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mailself"
              }
            ]
          },
          {
            "source": "./parse.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "parsePromise"
              }
            ]
          },
          {
            "source": "../data/seed.js",
            "imported": [
              "users"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "users",
                "local": "users"
              }
            ]
          },
          {
            "source": "../models/promise.js",
            "imported": [
              "Promise"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Promise",
                "local": "Promise"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "handleRequest",
            "req",
            "resp"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "handleRequest",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "resp",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/lib/middleware.js",
      "filenameRelative": "/app/lib/middleware.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "middleware.js",
      "sourceFileName": "middleware.js",
      "sourceRoot": "/app/lib",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/lib",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "middleware"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = handleRequest;\n\nvar _mail = require('./mail.js');\n\nvar _mail2 = _interopRequireDefault(_mail);\n\nvar _parse = require('./parse.js');\n\nvar _parse2 = _interopRequireDefault(_parse);\n\nvar _seed = require('../data/seed.js');\n\nvar _promise = require('../models/promise.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction handleRequest(req, resp) {\n  // The server at promises.to passes along the full URL the way the user typed\n  // it, so when the user hits \"bob.promises.to/foo\" the Glitch app is called\n  // with \"iwill.glitch.me/bob.promises.to/foo\" and req.originalUrl is\n  // \"/bob.promises.to/foo\" (originalUrl doesn't include the hostname)\n  var urtx = req.originalUrl.substr(1); // get rid of the initial slash\n  // urtx is now, eg, \"bob.promises.to/foo_the_bar/by/9am\"\n\n  // TODO: don't try to parse a promise if no subdomain, ie, no user given\n  // TODOLATER: how to handle \"bob.promises.to/foo%bar\"\n  // TODOLATER: need to url-decode to handle \"bob.promises.to/foo^bar\"\n  // TODOLATER: handle bob.promises.to/do_item_#2/by/9am\n  //           https://stackoverflow.com/questions/18796421/capture-anchor-links\n\n\n  // quick hack to make it so both bob.commits.to and bob.commits.to/ \n  // show the full list of promises:\n  urtx = urtx.replace(/\\/$/, '');\n\n  console.log('handleRequest', req.params);\n\n  // Parse the urtext into user, what, whom, tini, tdue, etc\n  // Check if a promise already exists with matching user+'|'+what\n  // If not, create it\n  // If so, do nothing\n  var p = (0, _parse2.default)(urtx);\n  console.log('DEBUG ' + JSON.stringify(p));\n\n  if (p.user === 'www' || p.user === '') {\n    // this is the case of no username, like if someone just went to\n    // \"promises.to\" or tried to fetch \"promises.to/robots.txt\" or whatever\n    console.log('invalid request', p.user);\n    resp.render('home');\n  } else if (!_seed.users.includes(p.user)) {\n    resp.redirect('/sign-up');\n  } else {\n    console.log('valid request', req.params);\n    _promise.Promise.findOne({ where: { urtx: urtx } }).then(function (promise) {\n      var existing = false;\n\n      if (promise) {\n        console.log('duplicate', urtx, promise.id);\n        existing = true;\n        // resp.redirect(urtx);\n      } else {\n        _promise.Promise.create(p);\n        (0, _mail2.default)('PROMISE', urtx);\n      }\n\n      console.log('promises.to/ request', req.params);\n      resp.render('promise', _extends({}, req.params, {\n        existing: existing\n      }));\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmUuanMiXSwibmFtZXMiOlsiaGFuZGxlUmVxdWVzdCIsInJlcSIsInJlc3AiLCJ1cnR4Iiwib3JpZ2luYWxVcmwiLCJzdWJzdHIiLCJyZXBsYWNlIiwiY29uc29sZSIsImxvZyIsInBhcmFtcyIsInAiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlciIsInJlbmRlciIsImluY2x1ZGVzIiwicmVkaXJlY3QiLCJmaW5kT25lIiwid2hlcmUiLCJ0aGVuIiwiZXhpc3RpbmciLCJwcm9taXNlIiwiaWQiLCJjcmVhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O2tCQU13QkEsYTs7QUFOeEI7Ozs7QUFDQTs7OztBQUNBOztBQUVBOzs7O0FBRWUsU0FBU0EsYUFBVCxDQUF1QkMsR0FBdkIsRUFBNEJDLElBQTVCLEVBQWtDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSUMsT0FBT0YsSUFBSUcsV0FBSixDQUFnQkMsTUFBaEIsQ0FBdUIsQ0FBdkIsQ0FBWCxDQUwrQyxDQUtUO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQUYsU0FBT0EsS0FBS0csT0FBTCxDQUFhLEtBQWIsRUFBb0IsRUFBcEIsQ0FBUDs7QUFFQUMsVUFBUUMsR0FBUixDQUFZLGVBQVosRUFBNkJQLElBQUlRLE1BQWpDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSUMsSUFBSSxxQkFBYVAsSUFBYixDQUFSO0FBQ0FJLFVBQVFDLEdBQVIsWUFBcUJHLEtBQUtDLFNBQUwsQ0FBZUYsQ0FBZixDQUFyQjs7QUFFQSxNQUFJQSxFQUFFRyxJQUFGLEtBQVcsS0FBWCxJQUFvQkgsRUFBRUcsSUFBRixLQUFXLEVBQW5DLEVBQXVDO0FBQ3JDO0FBQ0E7QUFDQU4sWUFBUUMsR0FBUixDQUFZLGlCQUFaLEVBQStCRSxFQUFFRyxJQUFqQztBQUNBWCxTQUFLWSxNQUFMLENBQVksTUFBWjtBQUNELEdBTEQsTUFLTyxJQUFJLENBQUMsWUFBTUMsUUFBTixDQUFlTCxFQUFFRyxJQUFqQixDQUFMLEVBQTZCO0FBQ2xDWCxTQUFLYyxRQUFMLENBQWMsVUFBZDtBQUNELEdBRk0sTUFFQTtBQUNMVCxZQUFRQyxHQUFSLENBQVksZUFBWixFQUE2QlAsSUFBSVEsTUFBakM7QUFDQSxxQkFBUVEsT0FBUixDQUFnQixFQUFFQyxPQUFPLEVBQUNmLFVBQUQsRUFBVCxFQUFoQixFQUNHZ0IsSUFESCxDQUNRLG1CQUFXO0FBQ2YsVUFBSUMsV0FBVyxLQUFmOztBQUVBLFVBQUlDLE9BQUosRUFBYTtBQUNYZCxnQkFBUUMsR0FBUixDQUFZLFdBQVosRUFBeUJMLElBQXpCLEVBQStCa0IsUUFBUUMsRUFBdkM7QUFDQUYsbUJBQVcsSUFBWDtBQUNBO0FBQ0QsT0FKRCxNQUlPO0FBQ0wseUJBQVFHLE1BQVIsQ0FBZWIsQ0FBZjtBQUNBLDRCQUFTLFNBQVQsRUFBb0JQLElBQXBCO0FBQ0Q7O0FBRURJLGNBQVFDLEdBQVIsQ0FBWSxzQkFBWixFQUFvQ1AsSUFBSVEsTUFBeEM7QUFDQVAsV0FBS1ksTUFBTCxDQUFZLFNBQVosZUFDS2IsSUFBSVEsTUFEVDtBQUVFVztBQUZGO0FBSUgsS0FsQkQ7QUFvQkQ7QUFDRiIsImZpbGUiOiJtaWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvbGliIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1haWxzZWxmIGZyb20gJy4vbWFpbC5qcyc7XG5pbXBvcnQgcGFyc2VQcm9taXNlIGZyb20gJy4vcGFyc2UuanMnO1xuaW1wb3J0IHsgdXNlcnMgfSBmcm9tICcuLi9kYXRhL3NlZWQuanMnO1xuXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi4vbW9kZWxzL3Byb21pc2UuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KHJlcSwgcmVzcCkge1xuICAvLyBUaGUgc2VydmVyIGF0IHByb21pc2VzLnRvIHBhc3NlcyBhbG9uZyB0aGUgZnVsbCBVUkwgdGhlIHdheSB0aGUgdXNlciB0eXBlZFxuICAvLyBpdCwgc28gd2hlbiB0aGUgdXNlciBoaXRzIFwiYm9iLnByb21pc2VzLnRvL2Zvb1wiIHRoZSBHbGl0Y2ggYXBwIGlzIGNhbGxlZFxuICAvLyB3aXRoIFwiaXdpbGwuZ2xpdGNoLm1lL2JvYi5wcm9taXNlcy50by9mb29cIiBhbmQgcmVxLm9yaWdpbmFsVXJsIGlzXG4gIC8vIFwiL2JvYi5wcm9taXNlcy50by9mb29cIiAob3JpZ2luYWxVcmwgZG9lc24ndCBpbmNsdWRlIHRoZSBob3N0bmFtZSlcbiAgbGV0IHVydHggPSByZXEub3JpZ2luYWxVcmwuc3Vic3RyKDEpOyAvLyBnZXQgcmlkIG9mIHRoZSBpbml0aWFsIHNsYXNoXG4gIC8vIHVydHggaXMgbm93LCBlZywgXCJib2IucHJvbWlzZXMudG8vZm9vX3RoZV9iYXIvYnkvOWFtXCJcbiAgXG4gIC8vIFRPRE86IGRvbid0IHRyeSB0byBwYXJzZSBhIHByb21pc2UgaWYgbm8gc3ViZG9tYWluLCBpZSwgbm8gdXNlciBnaXZlblxuICAvLyBUT0RPTEFURVI6IGhvdyB0byBoYW5kbGUgXCJib2IucHJvbWlzZXMudG8vZm9vJWJhclwiXG4gIC8vIFRPRE9MQVRFUjogbmVlZCB0byB1cmwtZGVjb2RlIHRvIGhhbmRsZSBcImJvYi5wcm9taXNlcy50by9mb29eYmFyXCJcbiAgLy8gVE9ET0xBVEVSOiBoYW5kbGUgYm9iLnByb21pc2VzLnRvL2RvX2l0ZW1fIzIvYnkvOWFtXG4gIC8vICAgICAgICAgICBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODc5NjQyMS9jYXB0dXJlLWFuY2hvci1saW5rc1xuICBcbiAgXG4gIC8vIHF1aWNrIGhhY2sgdG8gbWFrZSBpdCBzbyBib3RoIGJvYi5jb21taXRzLnRvIGFuZCBib2IuY29tbWl0cy50by8gXG4gIC8vIHNob3cgdGhlIGZ1bGwgbGlzdCBvZiBwcm9taXNlczpcbiAgdXJ0eCA9IHVydHgucmVwbGFjZSgvXFwvJC8sICcnKVxuICBcbiAgY29uc29sZS5sb2coJ2hhbmRsZVJlcXVlc3QnLCByZXEucGFyYW1zKTtcbiAgXG4gIC8vIFBhcnNlIHRoZSB1cnRleHQgaW50byB1c2VyLCB3aGF0LCB3aG9tLCB0aW5pLCB0ZHVlLCBldGNcbiAgLy8gQ2hlY2sgaWYgYSBwcm9taXNlIGFscmVhZHkgZXhpc3RzIHdpdGggbWF0Y2hpbmcgdXNlcisnfCcrd2hhdFxuICAvLyBJZiBub3QsIGNyZWF0ZSBpdFxuICAvLyBJZiBzbywgZG8gbm90aGluZ1xuICBsZXQgcCA9IHBhcnNlUHJvbWlzZSh1cnR4KVxuICBjb25zb2xlLmxvZyhgREVCVUcgJHtKU09OLnN0cmluZ2lmeShwKX1gKVxuICBcbiAgaWYgKHAudXNlciA9PT0gJ3d3dycgfHwgcC51c2VyID09PSAnJykgeyBcbiAgICAvLyB0aGlzIGlzIHRoZSBjYXNlIG9mIG5vIHVzZXJuYW1lLCBsaWtlIGlmIHNvbWVvbmUganVzdCB3ZW50IHRvXG4gICAgLy8gXCJwcm9taXNlcy50b1wiIG9yIHRyaWVkIHRvIGZldGNoIFwicHJvbWlzZXMudG8vcm9ib3RzLnR4dFwiIG9yIHdoYXRldmVyXG4gICAgY29uc29sZS5sb2coJ2ludmFsaWQgcmVxdWVzdCcsIHAudXNlcik7XG4gICAgcmVzcC5yZW5kZXIoJ2hvbWUnKTtcbiAgfSBlbHNlIGlmICghdXNlcnMuaW5jbHVkZXMocC51c2VyKSkge1xuICAgIHJlc3AucmVkaXJlY3QoJy9zaWduLXVwJylcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygndmFsaWQgcmVxdWVzdCcsIHJlcS5wYXJhbXMpO1xuICAgIFByb21pc2UuZmluZE9uZSh7IHdoZXJlOiB7dXJ0eH0gfSlcbiAgICAgIC50aGVuKHByb21pc2UgPT4ge1xuICAgICAgICBsZXQgZXhpc3RpbmcgPSBmYWxzZTtcbiAgICAgIFxuICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdkdXBsaWNhdGUnLCB1cnR4LCBwcm9taXNlLmlkKTtcbiAgICAgICAgICBleGlzdGluZyA9IHRydWU7XG4gICAgICAgICAgLy8gcmVzcC5yZWRpcmVjdCh1cnR4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBQcm9taXNlLmNyZWF0ZShwKTtcbiAgICAgICAgICBtYWlsc2VsZignUFJPTUlTRScsIHVydHgpO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ3Byb21pc2VzLnRvLyByZXF1ZXN0JywgcmVxLnBhcmFtcyk7XG4gICAgICAgIHJlc3AucmVuZGVyKCdwcm9taXNlJywge1xuICAgICAgICAgIC4uLnJlcS5wYXJhbXMsXG4gICAgICAgICAgZXhpc3RpbmcsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuIFxuICB9XG59XG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "middleware.js"
      ],
      "names": [
        "handleRequest",
        "req",
        "resp",
        "urtx",
        "originalUrl",
        "substr",
        "replace",
        "console",
        "log",
        "params",
        "p",
        "JSON",
        "stringify",
        "user",
        "render",
        "includes",
        "redirect",
        "findOne",
        "where",
        "then",
        "existing",
        "promise",
        "id",
        "create"
      ],
      "mappings": ";;;;;;;;kBAMwBA,a;;AANxB;;;;AACA;;;;AACA;;AAEA;;;;AAEe,SAASA,aAAT,CAAuBC,GAAvB,EAA4BC,IAA5B,EAAkC;AAC/C;AACA;AACA;AACA;AACA,MAAIC,OAAOF,IAAIG,WAAJ,CAAgBC,MAAhB,CAAuB,CAAvB,CAAX,CAL+C,CAKT;AACtC;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACAF,SAAOA,KAAKG,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;;AAEAC,UAAQC,GAAR,CAAY,eAAZ,EAA6BP,IAAIQ,MAAjC;;AAEA;AACA;AACA;AACA;AACA,MAAIC,IAAI,qBAAaP,IAAb,CAAR;AACAI,UAAQC,GAAR,YAAqBG,KAAKC,SAAL,CAAeF,CAAf,CAArB;;AAEA,MAAIA,EAAEG,IAAF,KAAW,KAAX,IAAoBH,EAAEG,IAAF,KAAW,EAAnC,EAAuC;AACrC;AACA;AACAN,YAAQC,GAAR,CAAY,iBAAZ,EAA+BE,EAAEG,IAAjC;AACAX,SAAKY,MAAL,CAAY,MAAZ;AACD,GALD,MAKO,IAAI,CAAC,YAAMC,QAAN,CAAeL,EAAEG,IAAjB,CAAL,EAA6B;AAClCX,SAAKc,QAAL,CAAc,UAAd;AACD,GAFM,MAEA;AACLT,YAAQC,GAAR,CAAY,eAAZ,EAA6BP,IAAIQ,MAAjC;AACA,qBAAQQ,OAAR,CAAgB,EAAEC,OAAO,EAACf,UAAD,EAAT,EAAhB,EACGgB,IADH,CACQ,mBAAW;AACf,UAAIC,WAAW,KAAf;;AAEA,UAAIC,OAAJ,EAAa;AACXd,gBAAQC,GAAR,CAAY,WAAZ,EAAyBL,IAAzB,EAA+BkB,QAAQC,EAAvC;AACAF,mBAAW,IAAX;AACA;AACD,OAJD,MAIO;AACL,yBAAQG,MAAR,CAAeb,CAAf;AACA,4BAAS,SAAT,EAAoBP,IAApB;AACD;;AAEDI,cAAQC,GAAR,CAAY,sBAAZ,EAAoCP,IAAIQ,MAAxC;AACAP,WAAKY,MAAL,CAAY,SAAZ,eACKb,IAAIQ,MADT;AAEEW;AAFF;AAIH,KAlBD;AAoBD;AACF",
      "file": "middleware.js",
      "sourceRoot": "/app/lib",
      "sourcesContent": [
        "import mailself from './mail.js';\nimport parsePromise from './parse.js';\nimport { users } from '../data/seed.js';\n\nimport { Promise } from '../models/promise.js';\n\nexport default function handleRequest(req, resp) {\n  // The server at promises.to passes along the full URL the way the user typed\n  // it, so when the user hits \"bob.promises.to/foo\" the Glitch app is called\n  // with \"iwill.glitch.me/bob.promises.to/foo\" and req.originalUrl is\n  // \"/bob.promises.to/foo\" (originalUrl doesn't include the hostname)\n  let urtx = req.originalUrl.substr(1); // get rid of the initial slash\n  // urtx is now, eg, \"bob.promises.to/foo_the_bar/by/9am\"\n  \n  // TODO: don't try to parse a promise if no subdomain, ie, no user given\n  // TODOLATER: how to handle \"bob.promises.to/foo%bar\"\n  // TODOLATER: need to url-decode to handle \"bob.promises.to/foo^bar\"\n  // TODOLATER: handle bob.promises.to/do_item_#2/by/9am\n  //           https://stackoverflow.com/questions/18796421/capture-anchor-links\n  \n  \n  // quick hack to make it so both bob.commits.to and bob.commits.to/ \n  // show the full list of promises:\n  urtx = urtx.replace(/\\/$/, '')\n  \n  console.log('handleRequest', req.params);\n  \n  // Parse the urtext into user, what, whom, tini, tdue, etc\n  // Check if a promise already exists with matching user+'|'+what\n  // If not, create it\n  // If so, do nothing\n  let p = parsePromise(urtx)\n  console.log(`DEBUG ${JSON.stringify(p)}`)\n  \n  if (p.user === 'www' || p.user === '') { \n    // this is the case of no username, like if someone just went to\n    // \"promises.to\" or tried to fetch \"promises.to/robots.txt\" or whatever\n    console.log('invalid request', p.user);\n    resp.render('home');\n  } else if (!users.includes(p.user)) {\n    resp.redirect('/sign-up')\n  } else {\n    console.log('valid request', req.params);\n    Promise.findOne({ where: {urtx} })\n      .then(promise => {\n        let existing = false;\n      \n        if (promise) {\n          console.log('duplicate', urtx, promise.id);\n          existing = true;\n          // resp.redirect(urtx);\n        } else {\n          Promise.create(p);\n          mailself('PROMISE', urtx);\n        }\n      \n        console.log('promises.to/ request', req.params);\n        resp.render('promise', {\n          ...req.params,\n          existing,\n        });\n    });\n \n  }\n}\n\n"
      ]
    },
    "mtime": 1506884200145
  },
  "{\"filename\":\"/app/lib/mail.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/lib\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mailgun-js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Mailgun"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "mailself",
            "subj",
            "body"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "mailself",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "subj",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "body",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/lib/mail.js",
      "filenameRelative": "/app/lib/mail.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "mail.js",
      "sourceFileName": "mail.js",
      "sourceRoot": "/app/lib",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/lib",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "mail"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mailself;\n\nvar _mailgunJs = require('mailgun-js');\n\nvar _mailgunJs2 = _interopRequireDefault(_mailgunJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mailself(subj, body) {\n  var mailgun = new _mailgunJs2.default({ apiKey: process.env.MAILGUN_KEY,\n    domain: process.env.MAILGUN_DOMAIN });\n  var data = {\n    from: process.env.MAILGUN_FROM,\n    to: process.env.MY_EMAIL,\n    subject: subj,\n    text: body\n  };\n  mailgun.messages().send(data, function (err, body) {});\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haWwuanMiXSwibmFtZXMiOlsibWFpbHNlbGYiLCJzdWJqIiwiYm9keSIsIm1haWxndW4iLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTUFJTEdVTl9LRVkiLCJkb21haW4iLCJNQUlMR1VOX0RPTUFJTiIsImRhdGEiLCJmcm9tIiwiTUFJTEdVTl9GUk9NIiwidG8iLCJNWV9FTUFJTCIsInN1YmplY3QiLCJ0ZXh0IiwibWVzc2FnZXMiLCJzZW5kIiwiZXJyIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFFd0JBLFE7O0FBRnhCOzs7Ozs7QUFFZSxTQUFTQSxRQUFULENBQWtCQyxJQUFsQixFQUF3QkMsSUFBeEIsRUFBOEI7QUFDM0MsTUFBSUMsVUFBVSx3QkFBWSxFQUFDQyxRQUFRQyxRQUFRQyxHQUFSLENBQVlDLFdBQXJCO0FBQ0NDLFlBQVFILFFBQVFDLEdBQVIsQ0FBWUcsY0FEckIsRUFBWixDQUFkO0FBRUEsTUFBSUMsT0FBTztBQUNUQyxVQUFTTixRQUFRQyxHQUFSLENBQVlNLFlBRFo7QUFFVEMsUUFBU1IsUUFBUUMsR0FBUixDQUFZUSxRQUZaO0FBR1RDLGFBQVNkLElBSEE7QUFJVGUsVUFBU2Q7QUFKQSxHQUFYO0FBTUFDLFVBQVFjLFFBQVIsR0FBbUJDLElBQW5CLENBQXdCUixJQUF4QixFQUE4QixVQUFDUyxHQUFELEVBQU1qQixJQUFOLEVBQWUsQ0FBRSxDQUEvQztBQUNEIiwiZmlsZSI6Im1haWwuanMiLCJzb3VyY2VSb290IjoiL2FwcC9saWIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWFpbGd1biBmcm9tICdtYWlsZ3VuLWpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFpbHNlbGYoc3ViaiwgYm9keSkge1xuICB2YXIgbWFpbGd1biA9IG5ldyBNYWlsZ3VuKHthcGlLZXk6IHByb2Nlc3MuZW52Lk1BSUxHVU5fS0VZLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBwcm9jZXNzLmVudi5NQUlMR1VOX0RPTUFJTn0pXG4gIHZhciBkYXRhID0ge1xuICAgIGZyb206ICAgIHByb2Nlc3MuZW52Lk1BSUxHVU5fRlJPTSxcbiAgICB0bzogICAgICBwcm9jZXNzLmVudi5NWV9FTUFJTCxcbiAgICBzdWJqZWN0OiBzdWJqLFxuICAgIHRleHQ6ICAgIGJvZHksXG4gIH1cbiAgbWFpbGd1bi5tZXNzYWdlcygpLnNlbmQoZGF0YSwgKGVyciwgYm9keSkgPT4ge30pXG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "mail.js"
      ],
      "names": [
        "mailself",
        "subj",
        "body",
        "mailgun",
        "apiKey",
        "process",
        "env",
        "MAILGUN_KEY",
        "domain",
        "MAILGUN_DOMAIN",
        "data",
        "from",
        "MAILGUN_FROM",
        "to",
        "MY_EMAIL",
        "subject",
        "text",
        "messages",
        "send",
        "err"
      ],
      "mappings": ";;;;;kBAEwBA,Q;;AAFxB;;;;;;AAEe,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B;AAC3C,MAAIC,UAAU,wBAAY,EAACC,QAAQC,QAAQC,GAAR,CAAYC,WAArB;AACCC,YAAQH,QAAQC,GAAR,CAAYG,cADrB,EAAZ,CAAd;AAEA,MAAIC,OAAO;AACTC,UAASN,QAAQC,GAAR,CAAYM,YADZ;AAETC,QAASR,QAAQC,GAAR,CAAYQ,QAFZ;AAGTC,aAASd,IAHA;AAITe,UAASd;AAJA,GAAX;AAMAC,UAAQc,QAAR,GAAmBC,IAAnB,CAAwBR,IAAxB,EAA8B,UAACS,GAAD,EAAMjB,IAAN,EAAe,CAAE,CAA/C;AACD",
      "file": "mail.js",
      "sourceRoot": "/app/lib",
      "sourcesContent": [
        "import Mailgun from 'mailgun-js';\n\nexport default function mailself(subj, body) {\n  var mailgun = new Mailgun({apiKey: process.env.MAILGUN_KEY, \n                             domain: process.env.MAILGUN_DOMAIN})\n  var data = {\n    from:    process.env.MAILGUN_FROM,\n    to:      process.env.MY_EMAIL,\n    subject: subj,\n    text:    body,\n  }\n  mailgun.messages().send(data, (err, body) => {})\n}"
      ]
    },
    "mtime": 1506875526458
  }
}